var nano_spa=function(){"use strict";var e=function(t,n,r,o){for(var p=1;p<n.length;p++){var s=n[p++],i="number"==typeof s?r[s]:s;1===n[p]?o[0]=i:2===n[p]?(o[1]=o[1]||{})[n[++p]]=i:3===n[p]?o[1]=Object.assign(o[1]||{},i):o.push(n[p]?t.apply(null,e(t,i,r,["",null])):i)}return o},t=function(e){for(var t,n,r=1,o="",p="",s=[0],i=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(e||o,0):3===r&&(e||o)?(s.push(e||o,1),r=2):2===r&&"..."===o&&e?s.push(e,3):2===r&&o&&!e?s.push(!0,2,o):4===r&&n&&(s.push(e||o,2,n),n=""),o=""},c=0;c<e.length;c++){c&&(1===r&&i(),i(c));for(var a=0;a<e[c].length;a++)t=e[c][a],1===r?"<"===t?(i(),s=[s],r=3):o+=t:p?t===p?p="":o+=t:'"'===t||"'"===t?p=t:">"===t?(i(),r=1):r&&("="===t?(r=4,n=o,o=""):"/"===t?(i(),3===r&&(s=s[0]),r=s,(s=s[0]).push(r,4),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(i(),r=2):o+=t)}return i(),s},n="function"==typeof Map,r=n?new Map:{},o=n?function(e){var n=r.get(e);return n||r.set(e,n=t(e)),n}:function(e){for(var n="",o=0;o<e.length;o++)n+=e[o].length+"-"+e[o];return r[n]||(r[n]=t(e))};var p=function(t){var n=e(this,o(t),arguments,[]);return n.length>1?n:n[0]}.bind(function e(t,n,...r){const o={type:t,props:n,children:r};return o.props=o.props||{},o.props.style&&(o.props.style=(e=>e.trim().split("\n").map(e=>e.trim()).join(""))(o.props.style)),"function"==typeof t?function(t){if("AsyncFunction"===t.type.constructor.name)return e("__PROMISE__",{promise:t},[]);const n=t.type(t.props),r="function"==typeof n?n():n;return e(r.type,r.props,...r.children.concat(t.children))}(o):o}),s=(()=>{const e=document.getElementsByTagName("head")[0];let t=[];return{set:(n,r)=>{const o=(e=>Array.isArray(e)?e:[e].filter(e=>e))(n);r||(t.map(t=>e.removeChild(t)),t=o),(t=>t.map(t=>e.appendChild(t)))(o)}}})();const i=(e,[t,n])=>(Object.defineProperty(e,t,{value:n}),e);const c=()=>window.location.pathname,a=(e,t)=>()=>{Array.from(document.querySelectorAll(".spa-nav")).map(n=>{n.onclick=(r=>{r.preventDefault(),c()!==n.getAttribute("href")&&(window.history.pushState({},"",n.href),e(c()),t&&t(c()))})})};return Object.freeze({render:p,router:function(e,t){const{_config:n,...r}=t,o=n.head||{},p=n.on_route_change||void 0;function u(e,t){Object.entries(e).forEach(([e,n])=>{e.startsWith("on")&&e.toLowerCase()===e?t[e]=n:t.setAttribute(e,n)})}function l(e,t){e.forEach(e=>{void 0!==e&&null!==e&&("string"==typeof e||"number"==typeof e?t.appendChild(document.createTextNode(e)):Array.isArray(e)?e.map(({type:e,props:n,children:r})=>{t.appendChild(f({type:e,props:n,children:r}))}):t.appendChild(f({...e})))})}function f(e){let{type:t,props:n,children:s}=e;if("Link"==t){const e=s[0],t=document.createElement(e.type);"a"==e.type&&(t.href=n.as?n.as:n.href);const c=n.href.split("?")[0],a=function(e){const t=e.split("?"),n=t[1]?t[1].split("&"):void 0;return n?n.map(e=>e.split("=")).reduce(i,{}):void 0}(n.href);return a&&(r[n.as]=r[c].bind(null,{query:a}),o[n.as]=o[c].bind(null,{query:a})),t.onclick=(e=>{e.preventDefault(),window.history.pushState({query:a},"",n.as||n.href),d(n.as||n.href,{query:a}),p&&p(n.href)}),u(e.props,t),l(e.children,t),t}if("__PROMISE__"===t){const{placeholder:e,...t}=n.promise.props,r=n.promise.type(t),o=f(e());return r.then(e=>{o.parentNode.replaceChild(f(e),o)}),o}{const e=document.createElement(t);return u(n,e),l(s,e),e}}const h=e=>Array.isArray(e)?e.map(e=>f(e)):f(e);function d(t,n={}){const p=r[t]?r[t](n):r["*"](),i=o[t]&&"*"!==t?o[t](n):[];s.set(h(i)),e.innerHTML="",e.appendChild(f(p))}if(o["*"]){const e="function"==typeof o["*"]?o["*"]():void 0;if(!e)return;s.set(h(e),!0)}a(d,p)(),d(c()),window.onpopstate=(()=>{d(c())})}})}();