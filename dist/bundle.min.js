var nano_spa=function(){"use strict";var e=function(t,n,r,o){for(var p=1;p<n.length;p++){var i=n[p++],s="number"==typeof i?r[i]:i;1===n[p]?o[0]=s:2===n[p]?(o[1]=o[1]||{})[n[++p]]=s:3===n[p]?o[1]=Object.assign(o[1]||{},s):o.push(n[p]?t.apply(null,e(t,s,r,["",null])):s)}return o},t=function(e){for(var t,n,r=1,o="",p="",i=[0],s=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(e||o,0):3===r&&(e||o)?(i.push(e||o,1),r=2):2===r&&"..."===o&&e?i.push(e,3):2===r&&o&&!e?i.push(!0,2,o):4===r&&n&&(i.push(e||o,2,n),n=""),o=""},a=0;a<e.length;a++){a&&(1===r&&s(),s(a));for(var u=0;u<e[a].length;u++)t=e[a][u],1===r?"<"===t?(s(),i=[i],r=3):o+=t:p?t===p?p="":o+=t:'"'===t||"'"===t?p=t:">"===t?(s(),r=1):r&&("="===t?(r=4,n=o,o=""):"/"===t?(s(),3===r&&(i=i[0]),r=i,(i=i[0]).push(r,4),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),r=2):o+=t)}return s(),i},n="function"==typeof Map,r=n?new Map:{},o=n?function(e){var n=r.get(e);return n||r.set(e,n=t(e)),n}:function(e){for(var n="",o=0;o<e.length;o++)n+=e[o].length+"-"+e[o];return r[n]||(r[n]=t(e))};var p=function(t){var n=e(this,o(t),arguments,[]);return n.length>1?n:n[0]}.bind(function e(t,n,...r){const o={type:t,props:n,children:r};return o.props=o.props||{},o.props.style&&(o.props.style=(e=>e.trim().split("\n").map(e=>e.trim()).join(""))(o.props.style)),"function"==typeof t?function(t){const n=t.type(t.props),r="function"==typeof n?n():n;return e(r.type,r.props,...r.children.concat(t.children))}(o):o}),i=(()=>{const e=document.getElementsByTagName("head")[0],t=e=>Array.isArray(e)?e:[e].filter(e=>e),n=t=>t.map(t=>e.appendChild(t));let r=[];return{set:o=>{const p=t(o);r.map(t=>e.removeChild(t)),n(p),r=p},default:e=>{n(t(e))}}})();const s=(e,[t,n])=>(Object.defineProperty(e,t,{value:n}),e);const a=()=>window.location.pathname,u=(e,t)=>()=>{Array.from(document.querySelectorAll(".spa-nav")).map(n=>{n.onclick=(r=>{r.preventDefault(),a()!==n.getAttribute("href")&&(window.history.pushState({},"",n.href),e(a()),t&&t(a()))})})};return Object.freeze({render:p,router:function(e,t){const{_config:n,...r}=t,o=n.head||{},p=n.on_route_change||void 0,c=o["*"]?o["*"]:void 0;function l(e,t){Object.entries(e).forEach(([e,n])=>{e.startsWith("on")&&e.toLowerCase()===e?t[e]=n:t.setAttribute(e,n)})}function f(e,t){e.forEach(e=>{void 0!==e&&null!==e&&("string"==typeof e||"number"==typeof e?t.appendChild(document.createTextNode(e)):Array.isArray(e)?e.map(({type:e,props:n,children:r})=>{t.appendChild(h({type:e,props:n,children:r}))}):t.appendChild(h({...e})))})}function h(e){let{type:t,props:n,children:i}=e;if("Link"==t){const e=i[0],t=document.createElement(e.type);"a"==e.type&&(t.href=n.as?n.as:n.href);const a=n.href.split("?")[0],u=function(e){const t=e.split("?"),n=t[1]?t[1].split("&"):void 0;return n?n.map(e=>e.split("=")).reduce(s,{}):void 0}(n.href);return u&&(r[n.as]=r[a].bind(null,{query:u}),o[n.as]=o[a].bind(null,{query:u})),t.onclick=(e=>{e.preventDefault(),window.history.pushState({query:u},"",n.as||n.href),y(n.as||n.href,{query:u}),p&&p(n.href)}),l(e.props,t),f(e.children,t),t}{const e=document.createElement(t);return l(n,e),f(i,e),e}}const d=e=>Array.isArray(e)?e.map(e=>h(e)):h(e);function y(t,n={}){const p=r[t]?r[t](n):r["*"](),s=o[t]?o[t](n):[];i.set(d(s)),e.innerHTML="",e.appendChild(h(p))}if(c){const e="function"==typeof c?c():void 0;if(!e)return;i.default(d(e))}u(y,p)(),y(a()),window.onpopstate=(()=>{y(a())})}})}();