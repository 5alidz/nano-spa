var nano_spa=function(){"use strict";var n=function(e,t,r,o){for(var p=1;p<t.length;p++){var c=t[p++],i="number"==typeof c?r[c]:c;1===t[p]?o[0]=i:2===t[p]?(o[1]=o[1]||{})[t[++p]]=i:3===t[p]?o[1]=Object.assign(o[1]||{},i):o.push(t[p]?e.apply(null,n(e,i,r,["",null])):i)}return o},e=function(n){for(var e,t,r=1,o="",p="",c=[0],i=function(n){1===r&&(n||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?c.push(n||o,0):3===r&&(n||o)?(c.push(n||o,1),r=2):2===r&&"..."===o&&n?c.push(n,3):2===r&&o&&!n?c.push(!0,2,o):4===r&&t&&(c.push(n||o,2,t),t=""),o=""},s=0;s<n.length;s++){s&&(1===r&&i(),i(s));for(var a=0;a<n[s].length;a++)e=n[s][a],1===r?"<"===e?(i(),c=[c],r=3):o+=e:p?e===p?p="":o+=e:'"'===e||"'"===e?p=e:">"===e?(i(),r=1):r&&("="===e?(r=4,t=o,o=""):"/"===e?(i(),3===r&&(c=c[0]),r=c,(c=c[0]).push(r,4),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(i(),r=2):o+=e)}return i(),c},t="function"==typeof Map,r=t?new Map:{},o=t?function(n){var t=r.get(n);return t||r.set(n,t=e(n)),t}:function(n){for(var t="",o=0;o<n.length;o++)t+=n[o].length+"-"+n[o];return r[t]||(r[t]=e(n))};var p=function(e){var t=n(this,o(e),arguments,[]);return t.length>1?t:t[0]}.bind(function n(e,t,...r){const o={type:e,props:t,children:r};return o.props=o.props||{},o.props.style&&(o.props.style=(n=>n.trim().split("\n").map(n=>n.trim()).join(""))(o.props.style)),"function"==typeof e?function(e){if("AsyncFunction"===e.type.constructor.name)return n("__PROMISE__",{promise:e},[]);const t=e.type(e.props),r="function"==typeof t?t():t;return"function"==typeof t&&(r.props.__INTERNAL_RERENDER__=t),n(r.type,r.props,...r.children.concat(e.children))}(o):o});const c=(()=>{const n=document.getElementsByTagName("head")[0];let e=[];return{set:(t,r)=>{const o=Array.isArray(t)?t:[t].filter(n=>n);r||(e.map(e=>n.removeChild(e)),e=o),o.map(e=>n.appendChild(e))}}})(),i=n=>"function"==typeof n,s=()=>window.location.pathname;return Object.freeze({render:p,router:function(n,e){function t(n,e){Object.entries(n).forEach(([n,t])=>{n.startsWith("on")&&n.toLowerCase()===n?e[n]=t:"__INTERNAL_RERENDER__"==n?console.log("has rerender => ",e):e.setAttribute(n,t)})}function r(n,e){n.forEach(n=>{void 0!==n&&null!==n&&("string"==typeof n||"number"==typeof n?e.appendChild(document.createTextNode(n)):Array.isArray(n)?n.map(({type:n,props:t,children:r})=>{e.appendChild(o({type:n,props:t,children:r}))}):e.appendChild(o({...n})))})}function o(n){return"Link"==n.type?function(n){const{props:o,children:p}=n,c=p[0],i=document.createElement(c.type);return"a"==c.type&&(i.href=o.href),i.onclick=(n=>{n.preventDefault(),window.history.pushState({},"",o.href),a(o.href),e._config.on_route_change&&e._config.on_route_change(o.href)}),t(c.props,i),r(c.children,i),i}(n):"__PROMISE__"===n.type?function(n){const{props:e}=n,{placeholder:t,...r}=e.promise.props,p=e.promise.type(r),c=o(t());return p.then(n=>{c.parentNode.replaceChild(o(n),c)}),c}(n):function(n){let{type:e,props:o,children:p}=n;const c=document.createElement(e);return t(o,c),r(p,c),c}(n)}function p(n){return Array.isArray(n)?n.map(n=>o(n)):o(n)}function a(t){const r=e[t]?e[t]():e["*"](),i=e._config.head[t]&&"*"!==t?e._config.head[t]():[];c.set(p(i)),n.innerHTML="",n.appendChild(o(r))}if(e._config&&e._config.head["*"]){const n=i(e._config.head["*"])?e._config.head["*"]():0;n&&c.set(p(n),!0)}Array.from(document.querySelectorAll(".spa-nav")).map(n=>{n.onclick=(t=>{t.preventDefault();const r=n.getAttribute("href");s()!==r&&(window.history.pushState({},"",r),a(s()),e._config.on_route_change&&e._config.on_route_change(s()))})}),a(s()),window.onpopstate=(()=>{a(s())})}})}();