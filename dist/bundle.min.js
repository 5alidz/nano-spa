var nano_spa=function(){"use strict";var t=function(e,n,r,o){for(var p=1;p<n.length;p++){var i=n[p++],s="number"==typeof i?r[i]:i;1===n[p]?o[0]=s:2===n[p]?(o[1]=o[1]||{})[n[++p]]=s:3===n[p]?o[1]=Object.assign(o[1]||{},s):o.push(n[p]?e.apply(null,t(e,s,r,["",null])):s)}return o},e=function(t){for(var e,n,r=1,o="",p="",i=[0],s=function(t){1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(t||o,0):3===r&&(t||o)?(i.push(t||o,1),r=2):2===r&&"..."===o&&t?i.push(t,3):2===r&&o&&!t?i.push(!0,2,o):4===r&&n&&(i.push(t||o,2,n),n=""),o=""},c=0;c<t.length;c++){c&&(1===r&&s(),s(c));for(var a=0;a<t[c].length;a++)e=t[c][a],1===r?"<"===e?(s(),i=[i],r=3):o+=e:p?e===p?p="":o+=e:'"'===e||"'"===e?p=e:">"===e?(s(),r=1):r&&("="===e?(r=4,n=o,o=""):"/"===e?(s(),3===r&&(i=i[0]),r=i,(i=i[0]).push(r,4),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(s(),r=2):o+=e)}return s(),i},n="function"==typeof Map,r=n?new Map:{},o=n?function(t){var n=r.get(t);return n||r.set(t,n=e(t)),n}:function(t){for(var n="",o=0;o<t.length;o++)n+=t[o].length+"-"+t[o];return r[n]||(r[n]=e(t))};var p=function(e){var n=t(this,o(e),arguments,[]);return n.length>1?n:n[0]}.bind(function t(e,n,...r){const o={type:e,props:n,children:r};return o.props=o.props||{},o.props.style&&(o.props.style=(t=>t.trim().split("\n").map(t=>t.trim()).join(""))(o.props.style)),"function"==typeof e?function(e){if("AsyncFunction"===e.type.constructor.name)return t("__PROMISE__",{promise:e},[]);const n=e.type(e.props),r="function"==typeof n?n():n;return t(r.type,r.props,...r.children.concat(e.children))}(o):o});function i(t){let{type:e,props:n,children:r}=t;const o=function(t,e){t.forEach(t=>{void 0!==t&&null!==t&&("string"==typeof t||"number"==typeof t?e.appendChild(document.createTextNode(t)):Array.isArray(t)?t.map(({type:t,props:n,children:r})=>{e.appendChild(i.call(this,{type:t,props:n,children:r}))}):e.appendChild(i.call(this,{...t})))})}.bind(this);if("Link"===e)return this.LINK(t);if("__PROMISE__"===e)return this.PROMISE(t);const p=document.createElement(e);return function(t,e){Object.entries(t).forEach(([t,n])=>{if(t.startsWith("on")&&t.toLowerCase()===t)e[t]=n;else{if("use_state"===t)return;e.setAttribute(t,n)}})}(n,p),o(r,p),p}const s=t=>({replace_with(e){t.innerHTML="",t.appendChild(e)}}),c=(t={})=>{let e=[];const n=document.head,r=t["*"];if(r){const t=r();Array.isArray(t)?t.map(t=>n.appendChild(i(t))):n.appendChild(i(t))}return{set(r){if(!t[r])return;e.map(t=>n.removeChild(t));const o=t[r]?t[r]():void 0;if(o)if(Array.isArray(o)){const t=o.map(t=>i(t));e=t,t.map(t=>n.appendChild(t))}else{const t=i(o);e=[t],n.appendChild(t)}}}},a=(t,e,n)=>{const r=t["*"]?t["*"]:()=>p`<h1 style='text-align: center;'>404</h1>`,o={PROMISE:t=>{const{props:e}=t,{placeholder:n,...r}=e.promise.props,o=e.promise.type(r),p=i(n());return o.then(t=>{p.parentNode.replaceChild(i(t),p)}),p},LINK:o=>{const p=i(o.children[0]),s=o.props.href,c=s.split("/").filter(t=>t),a=Object.keys(t).reduce((t,e)=>{const n=e.split("*").map(t=>t.replace(/\//g,""));return n.length===c.length?(t.src="/"+n.map(t=>t||"*").join("/"),t.params=c.filter(t=>-1===n.indexOf(t)),t):t},{});return p.href=s,p.onclick=(o=>{o.preventDefault(),window.history.pushState({},"",s),n.set(s);const p=t[s]?t[s]():t[a.src]?t[a.src](a.params):r();e.replace_with(i(p))}),p}};return{get:e=>t[e]?i.call(o,t[e]()):i(r())}},l=(t,e,n)=>r=>{e.set(r),t.replace_with(n.get(r))},u=t=>{document.querySelectorAll(".LINK").forEach(e=>{e.onclick=function(e){e.preventDefault();const n=this.getAttribute("href");window.location.pathname!==n&&(window.history.pushState({},"",n),t(n))}})};return Object.freeze({render:p,router:function(t){const{root:e,routes:n,head:r}=t,o=s(e),p=c(r),i=a(n,o,p),h=l(o,p,i);u(h),h(window.location.pathname),window.onpopstate=(()=>h(window.location.pathname))}})}();