{"version":3,"sources":["../src/htm.min.js","../src/create_element.js","../src/create_dom_nodes.js","../src/router.utils.js","../src/router.js","../src/index.js","main.js"],"names":["n","t","r","u","e","p","length","s","a","Object","assign","push","apply","replace","f","h","Map","get","set","arguments","minify_style","trim","split","map","join","htm","bind","create_element","type","props","children","node","handle_custom_element","_node","constructor","name","promise","render","new_node","concat","style","handle_props","element","entries","forEach","key","value","startsWith","toLowerCase","setAttribute","handle_children","child","undefined","appendChild","document","createTextNode","Array","isArray","create_dom_nodes","call","children_with_handlers","createElement","init_root","root","replace_with","dom_node","innerHTML","init_head","components","prev_head","head","default_head","rendered","vnode","route","removeChild","nodes","init_routes","routes","root_handler","head_handler","methods","NOT_FOUND","handlers","placeholder","_props","_placeholder","then","parentNode","replaceChild","target","href","match_href","filter","_","source","keys","reduce","acc","curr","match_arr","src","el","params","indexOf","onclick","preventDefault","window","location","pathname","history","pushState","route_component","route_dom","init_render_route","route_handler","current_path","bind_initial","render_route","querySelectorAll","link","getAttribute","router","o","onpopstate","freeze","lib","getElementById","Home","About","Contact","NotFound","query","title","num","on_route_mount","current","on_route_unmount","test_async","timer","msg","Promise","resolve","setTimeout","say_hi","console","log","with_data","id","data","fetch","json","completed","spinner","todo","content"],"mappings":";;AMAA;;;;AACA,MAAM;AJDN,ADAA,ADAA,AKAA,ADAA,ADAA,AGCQqC,EAAAA,ENDJrC,CAAC,GAAG,AMCF,CJDGyC,SFAQxC,CAAT,EEAR,AFAmBC,CEAG2B,AFAd,EAAa1B,CAAb,EEAR,AFAuBC,CAAf,CEAqBsC,CFAJ,MEAzB,EAAsC;AACpCjC,AFDwB,AMCViH,EJAdjH,AIAciH,KNDc,CECtB,CAAC/E,EFDyBtC,CAAC,GAAC,CEClC,AFDwB,CECTwB,CFDqBxB,CAAC,GECrC,AFDsCH,CAAC,CECjB0C,AFDkBtC,MAAhB,CECxB,CAA8B,AFDiBD,CEChB,AFDiB,CEChBwC,CFDR,EECO,AFDoB,EECdC,KAAN,CAAD,KAAkB;AAC9C,AFFkD,AKCtD,ADMA,ADNA,AGAM,IAAqBgF,EFMrBV,EFLEvE,AFFkDtC,CAAC,EEEhD,CAACwC,AFFgD7C,CAAC,CAACG,CAAC,EAAF,CAAP,AIOpC,AENlB,GFMqB,CFLb,CAAe,IAAf,AEKmBsG,KFLK9D,CEKC,CAAC+D,CFLC,CAAC5D,MEKT,CAAgB6D,IFLX,IEKhC,GFLsDhE,GAAlD,EAAuD;AACrDH,AFHgD,AMGtDgF,MJAMhF,AIAA,CAAC,CNH4DlC,CAAC,GAAC,CEGxD,CAACqC,GAAD,CAAP,GAAeC,GFH0D,EEGzE,KFHgFvC,CAAjB,GAAmBJ,CAAC,CAACI,CAAD,CAApB,GAAwBA,CAAvC;AEIjD,ADHL,ADD+F,AIS/F,AELEwD,EAAAA,GJFE,CDDE3C,AGQAiG,AELA,EAAE/D,ENJ2FpD,CEIxF,AFJyF,CAACG,CAAD,CAAL,CEIjFwC,CIAE,CNJwFzC,AMIvF2H,CJAA,ADHC,ADDuF,AISvF,CJTwF,CAAD,CCCpFxH,ADDmF,AISnF,CHRC,AGQA+G,CFLA,CFJuF9G,CAAd,CCCrED,CAAC,CAACc,ADDmF,GMIvG,CLHkB,AKGM,EJArB,AFJwGnB,AIS9F,CHRcoB,ADDiF,CEIlF,AFJmFjB,AISjF0E,CJTgF,AMI5G,CNJuG,AMGxG,ELFmB,CAAe,ADD+E,CAAC3E,CAAC,CAAC,CCCjG,ADDgG,CAAD,CCC1EmB,CGQ1B,CJTyGnB,CCCpG,ADDqG,AIS7E6E,CHRC1E,ADD6E,CCC5E,ADD2E,CAAD,GCCtEA,CAAC,ADD2E,AIS/G,CHRqCc,CDD8D,EAAgBnB,CCChF,ADDiF,AIS3E,CJT4E,CCChH,CDDkHG,CCC1EmB,ADDuE,CAAjB,GCC9F,CAA6C,ADDyEhB,CAAjC,CCCrF,CAA1B,CDDkJ,MAAIN,CAAC,CAACG,CAAD,CAAL,GAASD,CAAC,CAAC,CAAD,CAAD,GAAKK,MAAM,CAACC,MAAP,CAAcN,CAAC,CAAC,CAAD,CAAD,IAAM,EAApB,EAAuBI,CAAvB,CAAd,GAAwCJ,CAAC,CAACO,IAAF,CAAOT,CAAC,CAACG,CAAD,CAAD,GAAKJ,CAAC,CAACW,KAAF,CAAQ,IAAR,EAAaZ,CAAC,CAACC,CAAD,EAAGO,CAAH,EAAKL,CAAL,EAAO,CAAC,EAAD,EAAI,IAAJ,CAAP,CAAd,CAAL,GAAsCK,CAA7C,CAA3F;AEKzF,AFLoO,AIUxO8C,AELAwB,EFKAxB,AELAwB,MAAM,EFKE,AELA,CFKCyC,gBAAT,CAA0B,OAA1B,EAAmC3E,OAAnC,CAA2C4E,IAAI,IAAI;AFJhD,AEKDA,ADRG,AGGH,IFKAA,CFPO,CCDE1D,ECQL,CAAC2C,AELA,EJAE,IDJIhF,AICAhB,AFAO,AGGP4B,CFKX,EDRsB0B,CCQP,ECRE,ACGC,CDHA8D,AFAG,GGGAG,CHHU,EEApB,CAAc,ADQD5H,AELE,CFKX,CHTAsB,CGSY,GHThB,CAAS,SAASC,UKGvB,ILHc,CAAwBC,IAAxB,EAA8BC,KAA9B,EAAqC,GAAGC,QAAxC,EAAkD;ACKpEY,ADJJ,ADHwO,AKG5ML,ADSxBjC,ADRJ,AGGE,EDJ0BiC,IHIxBK,AEKAtC,CAAC,CHTC2B,AIA4B,ADS5B2E,CJZyOtG,AGIxO,CHJiO,AKG5MiC,EJAlB,CCIC,CAACY,AIAA,CLJC,KKIKZ,EFKd,IFLA,AIAqB,CJAAQ,GAArB,AIAwBoF,EJAEnF,CGJH,ECIO,EJA9B,GIFI;AJGL,ADLWlB,ADHmO,AKG7M8F,ADUhC,ADRF1D,AGGA,CNRJ,CKGsC0D,EJAtB9F,AEEZoC,IFFW,AIA6B,EAAN0D,EDU1B/B,IAAI,ADRA,AGGA,CHHC1B,ECQE,GELG5B,EFKEoF,CDRR,EAAW,CGGE,IAAGS,IFKb,CAAkB,EELG,IFKrB,CAAb,AERI;AJIP,ADNmBrG,ADHtB,AKG6B,AFGvBkC,AGGF,CDNW,EHFb,CDEoBlC,ADH8N5B,CAAC,CGM/O8D,EHNgP,CCGvO,AKMN,CHHC,CAACG,IGGI7B,GNTgPrC,CAAT,CGMhP,CHN2P,AMS3O,EHHC,EAAjB,AGGmBmI,QAAS;AJCjC,ADP4BrG,ADHqO,AIc5P,ADPAiC,AGFI,GAFH,CLAsBjC,EEIvBiC,CHPgQ,GIc7PqD,ADPC,CHPgQnH,AGO/PoD,CHP2P,EAAMnD,CAAN,EAAQC,CAAC,GAAC,CAAV,AIcjP,ADPf,CAAiB8D,CHP2P7D,CAAC,GAAC,CIcxPuF,CJd0O,CGOhQ,CHPiRtF,CAAC,AIclR,EAA4B,CJduP,EAAnB,EAAsBE,CAAC,GAAC,CAAC,CAAD,CAAxB,EAA4BC,CAAC,GAAC,UAASR,CAAT,EAAW;ACGhS,ADHiS,AIc7Q,ADN9B,AGGHsE,EAAAA,CLRA,EECO,CGOH,EAAE,ENX4SnE,CAAJ,KAAQH,CAAC,KAAGI,CAAC,GAACA,CAAC,CAACS,OAAF,CAAU,sBAAV,EAAiC,EAAjC,CAAL,CAAT,IAAqDN,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,CAArD,GAAoE,MAAID,CAAJ,KAAQH,CAAC,IAAEI,CAAX,KAAeG,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,GAAeD,CAAC,GAAC,CAAhC,IAAmC,MAAIA,CAAJ,IAAO,UAAQC,CAAf,IAAkBJ,CAAlB,GAAoBO,CAAC,CAACI,IAAF,CAAOX,CAAP,EAAS,CAAT,CAApB,GAAgC,MAAIG,CAAJ,IAAOC,CAAP,IAAU,CAACJ,CAAX,GAAaO,CAAC,CAACI,IAAF,CAAO,CAAC,CAAR,EAAU,CAAV,EAAYP,CAAZ,CAAb,GAA4B,MAAID,CAAJ,IAAOD,CAAP,KAAWK,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,EAAcF,CAAd,GAAiBA,CAAC,GAAC,EAA9B,CAAnK,EAAqME,CAAC,GAAC,EAAvM;AEYhT,ADRE2B,ADJwf,AIchd,AEFtC,ELRFA,CDJoQ,EAAqPjB,CCIrf,ADJsf,CCIrfe,ECQEqB,AFZof,AMYpf,CNZyP,ECIhQ,ADJ6fpC,CAAC,ECIjfiB,AKQAM,CNZkfrC,CAAC,CAACM,CCIhf,CAACuB,CKQE,GJAtB,AFZkQ,CEYzOC,ADRV,CDJ2fhB,CAAC,ECI9e,ADJqO,ECIhQ,ADJ4gB,EEY9gB,EAAmC4B,OAAnC,EAA4C;AAC1CZ,AFb6gBhB,AGS3gBiD,EDIFjC,EFb6gBhB,AGS3gBiD,CHT4gB,KEatgB,AFbygB,CEaxgBnB,KFb4gBzC,CAAJ,CEajhB,CAAiBgD,EFbugB3C,CAAC,EEangB,AFb2f,EAAWA,CAAC,CEangB,AFbogBM,CAAD,CAAf,CAAD;AEc3gB,ADTF,AGUImE,ADXG,GAAP,GCWIA,EFDE9B,GDTGnB,ECSE,AECA,CAAC,IFDIoB,SAAV,IAAuBD,CDT7B,AGUW,CHVoBlB,AGU3B,GFD8B,CECDgD,CHVjC,EAAsC,CCSC,GECC,CFDtC,AECuC,EFDI,gBECL,CAAP,CAC3BmC,YAAY,EADe,EAE3BrC,YAAY,CAAChB,IAAb,CAAkBjC,QAAlB,CAA2B,CAA3B,CAF2B,CAA7B;AFAA,ADTF,ADNgiB,AImB9hB6E,ADRL,CARM,IGQC,CFQFA,EHbC1E,CDNiiB,GImB5hB,CHbA,ADNgiBlB,AImB/hB+F,CHbAlF,ADNgiB,GAAC,CCMviB,ADN6hB,CCMlhBM,CDN8hBnB,AImB1iB,CJnB2iB,AImB5hBgG,GJnB6hB/G,CAAC,CAACc,CAAD,CAAD,CAAKR,CCMhjB,AGaD,CHbwB6B,AGaC,EAAzB,EHbC,ADN6hB,AImBjgB,EJnB2hBpB,AImBxjB,CJnByjB,CImBxhB4E,CHbA,ADN6f,EAA8B1F,CAAC,AImB7jB,GJnB8jBD,CAAC,CAACc,CAAD,CAAD,CAAKC,CAAL,CAAF,ECM9jB,ADNwkB,ECMrhB,IDNyhBZ,CAAJ,GAAM,QAAMF,CAAN,IAASO,CAAC,IAAGD,CAAC,GAAC,CAACA,CAAD,CAAL,EAASJ,CAAC,GAAC,CAArB,IAAwBC,CAAC,IAAEH,CAAjC,GAAmCI,CAAC,GAACJ,CAAC,KAAGI,CAAJ,GAAMA,CAAC,GAAC,EAAR,GAAWD,CAAC,IAAEH,CAAf,GAAiB,QAAMA,CAAN,IAAS,QAAMA,CAAf,GAAiBI,CAAC,GAACJ,CAAnB,GAAqB,QAAMA,CAAN,IAASO,CAAC,IAAGL,CAAC,GAAC,CAAf,IAAkBA,CAAC,KAAG,QAAMF,CAAN,IAASE,CAAC,GAAC,CAAF,EAAID,CAAC,GAACE,CAAN,EAAQA,CAAC,GAAC,EAAnB,IAAuB,QAAMH,CAAN,IAASO,CAAC,IAAG,MAAIL,CAAJ,KAAQI,CAAC,GAACA,CAAC,CAAC,CAAD,CAAX,CAAH,EAAmBJ,CAAC,GAACI,CAArB,EAAuB,CAACA,CAAC,GAACA,CAAC,CAAC,CAAD,CAAJ,EAASI,IAAT,CAAcR,CAAd,EAAgB,CAAhB,CAAvB,EAA0CA,CAAC,GAAC,CAAtD,IAAyD,QAAMF,CAAN,IAAS,SAAOA,CAAhB,IAAmB,SAAOA,CAA1B,IAA6B,SAAOA,CAApC,IAAuCO,CAAC,IAAGL,CAAC,GAAC,CAA7C,IAAgDC,CAAC,IAAEH,CAAtI,CAAvG;AEgB7jB,ADTC,ADP4yB,AIoB5yBqH,AEJF,KJFA,CEMEA,KFJK,EDTE3F,CKSC,CJAC,GEIG,CAACgE,CEJCtD,EJAEc,CEIJ,CAAZ,EEJqB,CJAZ,ADTY,CAAC,ICSI,QAAjB,CDTY,EAAgB,CCSC,IILpC,GJK2CA,KAAP,KAAiB,QAAlD,EAA4D;AACjET,ADVsCN,AGcvC,AEJD,KFNA,CFMEM,EDVsCN,KCU/B,AIAA,CJACiB,AIAA,CLVqC,EAAEpB,QCU/C,CAAoBqB,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAApB;AACD,ADXsC,ADPuwB,AIsB/yB,AELYiF,GFPb,EFMS,CICIA,CLVY,EAAkC,ADP4vB5H,CAAC,CEkB/yB,ADXgB,CAArB,EDPuzBD,CEkB9yBiD,AFlBmyB,KEkB9xB,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAC/BA,ADXD,ADR0zB,AIuB9zB,ADVM,AGIO,CNjBd,AISA,IEQa,CJEPA,ACNOgB,IGIa9B,CJEf,CAACd,GAAN,ACNgB,CDMN,AIFiB,CJEhB,CCNQ,CAAC6C,OGIgBgE,GHJN,EGIW,CHJV,AGIWC,EHJvB,GGI6B,EHJV,EGIaD,KAAK,CAACE,GAAI,UAN3D;AJQU1G,AFnBlB,AGcE,AGIE,INlB4zB1B,CAAC,CGc3zBmE,EDKYzC,AFnBgzB,CMkBzzB,GJCQ,GCLF,AGIAS,GHJG,EAAhB,CGIoB,CNlBwzB,OAAOrB,GAAr1B;AEmBwBa,ADVpB,ADTJ,AIyBe,ADVb,IHfu1B1B,CAAC,GEmBl0B0B,AFnBm0B3B,AGen1BoE,CHfo1B,AIyBp0BoD,CHhBdrF,EDTm1B,AGej1B,CDIK,EEMF,ADVAiB,CFNC,ADTi1BtC,AIyBl0B2G,CAAhB,EHhBI1F,ADT00B,AIyB3zB,EJzB0zB,EGer0B,CFNC,ADT60B,AGe70BqC,CFNC1C,CDTzB,EGeE,CFNiB,CAAWK,KAAK,CAACJ,KAAjB,CAAf;ACU2BC,AFnB/B,AI0BE,ADVA,IHhBs2B1B,CAAC,GEmB10B0B,AFnB20B5B,AI0Bl2B,ADVAqE,CHhBm2B,GAAC,QGgBx1B,EHhBi2BvE,CAAT,AGgBr1BoE,EHhBg2B,QGgBt1B,CAAC,GAAD,CAA/B;ADGe,ADTb,ADVo3B,AI0B92BL,IAAAA,EJ1Bk3B7D,CEmB52B,AFnB62B,CI0Br3B,EHhBEoC,ADVo3BnC,CAAC,CEmBl1B,AFnBm1Bc,GAAF,CAAMjB,CAAN,CCU52B,ADVs2B,GCUn2B,OAAOqC,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,EAArC,GAA0CA,MAA3D;ACUIK,ADTJ,ADXm4B,AI0Bv3BoC,ADTd,AGNM,GARD,CFuBSA,EDTXP,EDGG7B,CFpBs4BxC,CAAC,AI0Bv4B,CHfGyB,GDXs4BxB,CEoBl4B,AFpBm4B,CEoBl4BkD,AFpBm4BnC,EGiBj5B,CHjB+4B,CAAMlB,AGiBp4B,CHjB83B,EAAQE,CAAC,CCWj4B,CACnBoC,CCQE,AFpBm5BrC,CEqBj5ByD,AFrBk5B,CAAC1D,CAAD,CAAX,CAAH,ECYh4B,ADZm5BE,CCYl5B0B,ADZw3B,ICW92B,EAEnBU,GCQoB,CAACqB,IAAjB,ADRI,CCQkB,ADRjB9B,ICQL,CDVe,CCUa,CDPhC,GAAGS,QAAQ,CAACR,QAAT,CAAkBS,MAAlB,CAAyBN,KAAK,CAACH,QAA/B,CAHgB,CAArB;ACUmCF,ADLpC,ADhBg6B,AI0B34B0C,ADRpB,AGKFW,CNvBy2B,CMuBz2BA,ENvBk6B,AI0B54BX,IAAhB,CEHC,CJF8B1C,ACH7B4C,CGKC,GJF2B,AFrBu4BxE,CAAT,EAAW,CGkB75B,GAAGuE,YAAY,EAA7B;ADGyC1C,AFrBm4B,AI0Bl5BoD,AEF1BsD,IFE0BtD,AEF1BsD,GNxBg7B,GEqBv4B1G,CFrB24B3B,CAAC,GEqBn5B,AFrBo5B,EAAN,CMwBl6B,CNxB26BE,CAAC,AMwB16B,CAACoI,ENxB06B,CAAf,EAAiBpI,CAAC,CMwB96B,ENxB+6BJ,AMwBr6B0C,CNxBs6B,CAACpC,KMwBj7B,CNxB45B,EAA4BF,CAAC,CMwBn6B,CNxBs4B,EAAgCF,CAAC,IAAEF,CAAC,CAACI,CAAD,CAAD,CAAKE,MAAL,GAAY,GAAZ,GAAgBN,CAAC,CAACI,CAAD,CAApB;AEqB55B0B,ADJlD,AGSM,ADPJ,AGME,MLRDC,AGSqC4F,CAAxC,CDPKnE,EDE6C1B,ADJ3C,CAACD,EEEE,CAAC4B,EFFR,CAAWjB,IEET,CFFL,AEEmBgC,EFFEzC,IAAI,CAACF,CEErB,CAAH,EAA4B,CFFT,CAAWW,KAAX,GAAmBpB,YAAY,CAACW,IAAI,CAACF,KAAL,CAAWW,KAAZ,CAA/B;ACIe,ADHpC,ADlBs+B,AI4Bt+B,ADRIgC,AGMD,KAHM,CHHLA,ECQEO,CFPE,ADHD,ADlBs+B5E,CEoBv+B,AFpBw+B,CAACD,CAAD,CAAD,CGoBj+B,CAACqB,CFFCK,EDlBs+BzB,AGoBh/B,CHpBi/B,AGoBp+BsE,CFFV,ADlB++BvE,AI4Bp+B,CJ5Bm+B,CAAD,CI4B/9B,CDRC,CFFC,ADlBk+BD,CAAC,CAACD,CAAD,AGoBh+BsE,CHpBm9B,CAAP,EGoBx8B,CAACjB,EFFxB,GAA6BrB,MEEV,CAAiB,MCQZ+B,IAAV,CAArB,GHVyD,CAAChC,IAAD,CAAlD,GAA2DA,IAAlE,IEE4D0C,KAAjB,CAAjB,CAAtB;ADGC,ADJN,ADnBggC,AI6B//B,ADRG,AGMDgE,CLzBW,ADFf,GM2BIA,CHRA,EDAE,CEUEzD,GDRG,SCQS,AEFA,EAAE,CFEC,AEFAN,KAAD,EAAQhC,OAAR,KAAoB,SFET4B,IAAV,CAArB;AFLG,AEMH,ADRIA,AGMA,KJVK,CCILA,ECQE6C,EDRE,CDEC,ACFA9D,UCQU,CDRf,CAAiB,CCQC,8BAAYyB,ADRIN,MCQhB,EAAoBO,ADRrB,CAAjB,WCQkB,EAAkCC,YAAlC,EAAgDC,OAAhD,CAAtB;AFLIvC,AFzB2gC,AI+B/gC,ADRG,AGMA,MJJCA,EEME4E,KFNK,CAACjE,IFzB4gCpD,CAAT,CI+B7/B,CJ/BwgC,EI+BrgC,EFNjB,CACEyD,gBAAgB,CAACC,IAAjB,CAAsB,IAAtB,EAA4B,EAAC,GAAGR,AEMpC4B,YADmB,EAEnBC,YAFmB,EAGnBmC,aAHmB,EAInBlC,OAJmB,CAArB;AFLkC,AF1By/B,AIsC3hCoC,ADdC,AGDQ,EFeTA,IJtC+hCnH,CE0BzhC,AF1B0hC,CEyB5hC,EFzB6hCF,CAAC,CAAC,EIsCvhC,CAACsH,CJtCqhC,EAAMlH,CAAC,CAACH,CAAD,CAAP,EAAWkB,GIsCjiC,EAAe4D,IJtCugC,EAAqB,EAArB,CAAP,GIsC/gC,EAA6BE,OAA7B,CAAZ;AFVG,AF5BwjC,AIwC3jCqC,AErCK,CAAD,CFqCJA,AErCF,ONHokCpH,CAAC,CAACI,GIwCxjC,CAAC8G,EJxCqjC,GAAS,CAAT,GAAWlH,CAAX,EIwCziC,CJxCsjCA,CAAC,AIwCpkC,CJxCqkC,AIwCjlC,CJxCglC,CAArB;AE6B1jC,AF7BmlC,AGyBplC,GDZA,MCYO;ADKR,AEYCyG,ADhBEzF,AGOJ,EFSEyF,EDhBEzF,GAAG,CCgBC,ADhBAwD,CCgBCkD,IDhBF,EAAQ,AGOAc,IFSb,GAAoB,GETtB,CAA0B,EFSE;AJ1C0jC,AI2CllCzD,ADhBE,AGMsB0D,EAAAA,EFUxB1D,MDhBK,CCgBE,ADhBDb,CCgBE,SDhBQ,CAACM,KAAD,CAAd,ECgBK,ADhBkB,CCgBzB,IAA6BO,OAAO,CAAC,kBAAD,CAAP,CAC3B0B,MAAM,CAACC,QAAP,CAAgBC,QADW,EAE3B9B,YAAY,CAAChB,IAAb,CAAkBjC,QAAlB,CAA2B,CAA3B,CAF2B,CAA7B;AFXW,AEeXwF,ADnBIjD,AGKkB,CAA1B,EAAqC,CFcjCiD,IDnBIjD,CDIgBX,OEeR,CAAC0D,ADnBA,CAAC7F,GAAV,CAAcQ,GDIP,CAA0BA,ACJf,GCmBG,CFfd,ACJeuC,CCmBd,CFf+B,AEe3C,EDnB8B,CAACK,WAAL,CAAiB5C,IAAjB,CAAtB;ADKN,AEeC,ADnBKsC,AGKN,GFQA,GFTI,ECJEA,AGKAuE,GAAG,GAAG,GHLG,GAAG,AGKA,EHLZ,EGKgBC,OAAJ,CAAaC,OAAD,IAAa;AJDtClH,AEgBN,ADnBO,AGKJmH,IJFGnH,AIEHmH,IJFE,MIEQ,CAAC,MAAM;AJFRlH,ACFN,AGKDiH,IJHOjH,EIGPiH,GJHA,IIGO,CAAC,OAAD,CAAP;AJHchH,AIIf,IJJeA,CIEN,EAEP6G,KAFO,CAAV;AJFE,ACDAtE,AGMH,GAJiB,CAAlB,EJD8BtC,ACD1BsC,IDCJ,KCDa,CAAC9C,GAAV,CAAc0C,QAAQ,IAAIK,IAAI,CAACK,WAAL,CAAiBV,QAAjB,CAA1B;ADEJ,ACDI,QDCEL,ICDIY,QAAQ,GAAGJ,ODCO,GAAGlB,ACDA,CAACwB,KAAD,CAAV,GAAoBN,KDCK,CAAC1C,IAAhB,ACDoB,CDCC,ACDAgD,IDCrB,CAA/B,ACDmD,CAAV,EAApB,GAA0CtB,SAA3D;AGMJ,QAAM4F,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,IAAZ,CAArB;AJJA,ACDI,MDCDtH,IAAI,ACDA,CAAC4C,IDCI,ICDR,EDCJ,ACDkB,EDCE;AAAE,ACDH,AGMnB,SAAOnC,EJLsB,IIKf,CJLoB,MAAL,EAAaN,IAAb,CAAP;AAA2B,ACDvB,kBGOViH,MAAO,IAAGJ,GAAI;GAD9B;AJJA,ACDI,AGQL,MJPIhH,IAAI,ACDA4B,KDCK,ACDA,CAACC,OAAN,CAAce,IDCrB,EAA2B,ECDpB,CAAH,EAA4B;ADCH,ACAvB,WDA8B,GCAxBI,EDA6B,GCAxB,GAAGJ,GDAgB,EAAgBzC,GCAxB,CDAQ,A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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["var n = function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p++],a=\"number\"==typeof s?u[s]:s;1===r[p]?e[0]=a:2===r[p]?(e[1]=e[1]||{})[r[++p]]=a:3===r[p]?e[1]=Object.assign(e[1]||{},a):e.push(r[p]?t.apply(null,n(t,a,u,[\"\",null])):a)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],a=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,2,e):4===u&&r&&(s.push(n||e,2,r),r=\"\"),e=\"\"},f=0;f<n.length;f++){f&&(1===u&&a(),a(f));for(var h=0;h<n[f].length;h++)t=n[f][h],1===u?\"<\"===t?(a(),s=[s],u=3):e+=t:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(a(),u=1):u&&(\"=\"===t?(u=4,r=e,e=\"\"):\"/\"===t?(a(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,4),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(a(),u=2):e+=t)}return a(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]};\n","import htm from './htm.min.js'\nconst minify_style = s => s.trim().split('\\n').map(s => s.trim()).join('')\nexport default htm.bind(function create_element(type, props, ...children) {\n  const node = {type, props, children}\n  node.props = node.props || {}\n  function handle_custom_element(_node) {\n    if(_node.type.constructor.name === 'AsyncFunction'){\n      return create_element('__PROMISE__', {promise: _node}, [])\n    }\n    const render = _node.type(_node.props)\n    const new_node = typeof render === 'function' ? render() : render\n    return create_element(\n      new_node.type,\n      new_node.props,\n      ...new_node.children.concat(_node.children)\n    )\n  }\n  if(node.props.style) node.props.style = minify_style(node.props.style)\n  return typeof type === 'function' ? handle_custom_element(node) : node\n})\n","function handle_props(props, element) {\n  Object.entries(props).forEach(([key, value]) => {\n    if (key.startsWith('on') && key.toLowerCase() === key) {\n      element[key] = value\n    } else if(key === 'use_state'){\n      return\n    } else {\n      element.setAttribute(key, value)\n    }\n  })\n}\n\nfunction handle_children(children, element) {\n  children.forEach(child => {\n    if (child === undefined || child === null) {\n      return\n    } else if (typeof child === 'string' || typeof child === 'number') {\n      element.appendChild(document.createTextNode(child))\n    } else if (Array.isArray(child)) {\n      child.map(({type, props, children}) => {\n        element.appendChild(\n          create_dom_nodes.call(this, {type, props, children})\n        )\n      })\n    } else {\n      element.appendChild(\n        create_dom_nodes.call(this, {...child})\n      )\n    }\n  })\n}\n\nexport default function create_dom_nodes(node) {\n  let {type, props, children} = node\n  const children_with_handlers = handle_children.bind(this)\n  if(type === 'Link') { return this['LINK'](node) }\n  if(type === '__PROMISE__') { return this['PROMISE'](node) }\n  const element = document.createElement(type)\n  handle_props(props, element)\n  children_with_handlers(children, element)\n  return element\n}\n","import render from './create_element.js'\nimport create_dom_nodes from './create_dom_nodes.js'\n\nexport const init_root = (root) => {\n  return {\n    replace_with(dom_node) {\n      root.innerHTML = ''\n      root.appendChild(dom_node)\n    },\n    root\n  }\n}\n\nexport const init_head = (components={}) => {\n  let prev_head = []\n  const head = document.head\n  const default_head = components['*']\n  if(default_head) {\n    const rendered = default_head()\n    if(Array.isArray(rendered)) {\n      rendered.map(vnode => head.appendChild(create_dom_nodes(vnode)))\n    } else {\n      head.appendChild(create_dom_nodes(rendered))\n    }\n  }\n  return {\n    set(route) {\n      if(!components[route]) {\n        prev_head.map(node => head.removeChild(node))\n        prev_head = []\n        return\n      }\n      prev_head.map(dom_node => head.removeChild(dom_node))\n      const rendered = components[route] ? components[route]() : undefined\n      if(!rendered) {return}\n      if(Array.isArray(rendered)) {\n        const nodes = rendered.map(vnode => create_dom_nodes(vnode))\n        prev_head = nodes\n        nodes.map(dom_node => head.appendChild(dom_node))\n      } else {\n        const node = create_dom_nodes(rendered)\n        prev_head = [node]\n        head.appendChild(node)\n      }\n    }\n  }\n}\n\nexport const init_routes = (routes, root_handler, head_handler, methods) => {\n  const NOT_FOUND = routes['*']\n    ? routes['*']\n    : () => render`<h1 style='text-align: center;'>404</h1>`\n\n  const handlers = {\n    'PROMISE': (node) => {\n      const { props } = node\n      const { placeholder, ..._props } = props.promise.props\n      const new_node = props.promise.type(_props)\n      const _placeholder = placeholder()\n      const element = create_dom_nodes(_placeholder)\n      new_node.then(_node => {\n        element.parentNode.replaceChild(create_dom_nodes(_node), element)\n      })\n      return element\n    },\n    'LINK': (node) => {\n      const target = node.children[0]\n      const element = create_dom_nodes(target)\n      const href = node.props.href\n      const match_href = href.split('/').filter(_ => _)\n      const source = Object.keys(routes).reduce((acc, curr) => {\n        const match_arr = curr.split('*').map(s => s.replace(/\\//g, ''))\n        if(match_arr.length === match_href.length) {\n          acc.src = '/' + match_arr.map(el => !el ? '*' : el).join('/')\n          acc.params = match_href.filter(s => match_arr.indexOf(s) === -1)\n          return acc\n        } else {return acc}\n      }, {})\n      element.href = href\n      element.onclick = e => {\n        e.preventDefault()\n        methods['on_route_unmount']&&methods['on_route_unmount'](\n          window.location.pathname,\n          root_handler.root.children[0]\n        )\n        window.history.pushState({}, '', href)\n        head_handler.set(href)\n        const route_component = routes[href]\n          ? routes[href]()\n          : routes[source.src]\n            ? routes[source.src](source.params)\n            : NOT_FOUND()\n        const route_dom = create_dom_nodes(route_component)\n        methods['on_route_mount']&&methods['on_route_mount'](href, route_dom)\n        root_handler.replace_with(route_dom)\n      }\n      return element\n    }\n  }\n\n  return {\n    get: (route) => {\n      if(routes[route]) {\n        return create_dom_nodes.call(handlers, routes[route]())\n      } else {\n        return create_dom_nodes(NOT_FOUND())\n      }\n    }\n  }\n}\n\nexport const init_render_route = (\n  root_handler,\n  head_handler,\n  route_handler,\n  methods\n) => {\n  return (route) => {\n    const route_dom = route_handler.get(route)\n    head_handler.set(route)\n    root_handler.replace_with(route_dom)\n    methods['on_route_mount']&&methods['on_route_mount'](route, route_dom)\n  }\n}\n","import {\n  init_root,\n  init_head,\n  init_render_route,\n  init_routes,\n} from './router.utils.js'\n\nconst current_path = () => window.location.pathname\n\nconst bind_initial = (render_route, root_handler, methods) => {\n  document.querySelectorAll('.LINK').forEach(link => {\n    link.onclick = function(e) {\n      e.preventDefault()\n      const href = this.getAttribute('href')\n      if(current_path() === href) {return}\n      methods['on_route_unmount']&&methods['on_route_unmount'](\n        current_path(),\n        root_handler.root.children[0]\n      )\n      window.history.pushState({}, '', href)\n      render_route(href)\n    }\n  })\n}\n\nexport default function router(o) {\n  const { root, routes, head, methods } = o\n\n  const root_handler = init_root(root)\n  const head_handler = init_head(head)\n  const route_handler = init_routes(routes, root_handler, head_handler, methods)\n  const render_route = init_render_route(\n    root_handler,\n    head_handler,\n    route_handler,\n    methods\n  )\n\n  bind_initial(render_route, root_handler, methods)\n\n  render_route(current_path())\n\n  window.onpopstate = () => {\n    methods['on_route_unmount']&&methods['on_route_unmount'](\n      window.location.pathname,\n      root_handler.root.children[0]\n    )\n    render_route(current_path())\n  }\n}\n","import render from './create_element.js'\nimport router from './router.js'\n\nexport default Object.freeze({render, router})\n","import lib from '../src/index.js'\nconst { render, router } = lib\n\nrouter({\n  root: document.getElementById('app'),\n  routes: {\n    '/': () => render`<${Home} content='Hello World'/>`,\n    '/about': () => render`<${About} />`,\n    '/contact': () => render`<${Contact} />`,\n    '*': () => render`<${NotFound} />`,\n  },\n  head: {\n    '/': () => render`\n      <title>Home</title>\n      <meta name='description' content='our home page'/>\n    `,\n    '/about': () => render`<title>About</title>`,\n    '/post': ({query}) => render`<title>${query.title}-${query.num}</title>`,\n    '*': () => render`\n      <meta name='author' content='5alidz' />\n      <meta name='author' content='5alidz' />\n    `\n  },\n  methods: {\n    on_route_mount: (current, element) => {\n      return\n    },\n    on_route_unmount: (route, element) => {\n      return\n    }\n  }\n})\n\nasync function test_async({ timer }) {\n  const msg = await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve('hello')\n    }, timer)\n  })\n  const say_hi = () => console.log('hi')\n  return render`\n    <div onload=${say_hi}>${msg}</div>\n  `\n}\n\nasync function with_data({ id }) {\n  const data = await fetch('https://jsonplaceholder.typicode.com/todos/' + id)\n  const json = await data.json()\n  return render`\n    <div>\n      <h3>${json.title}</h3>\n      <p>${json.completed ? 'completed' : 'progress'}</p>\n    </div>\n  `\n}\n\nfunction spinner() {\n  return render`\n    <p>...</p>\n  `\n}\n\nfunction todo({ id }) {\n  return render`\n    <${with_data}\n      id=${id}\n      placeholder=${ () => render`<${spinner} />` }/>\n  `\n}\n\nfunction Home({ content }) {\n  return () => render`\n    <div id='home'>\n      <h1>Home</h1>\n      <p>${content}</p>\n      <${todo} id=1 />\n      <${todo} id=2 />\n      <${todo} id=3 />\n      <${test_async}\n        timer=${500}\n        placeholder=${() => render`<${spinner} />`} />\n      <Link href='/about'>\n        <a>read more...</a>\n      </Link>\n    </div>\n  `\n}\n\nfunction About() {\n  return () => render`\n    <div id='about'>\n      <h1>About</h1>\n    </div>\n  `\n}\n\nfunction Contact() {\n  return () => render`\n    <div id='contact'>\n      <h1>Contact</h1>\n    </div>\n  `\n}\n\nfunction NotFound() {\n  return render`\n    <h1 style='text-align: center; color: red;'>404</h1>\n  `\n}\n"]}