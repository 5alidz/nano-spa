{"version":3,"sources":["../src/htm.min.js","../src/render.js","../src/router.js","../src/index.js","main.js"],"names":["n","t","r","u","e","p","length","s","a","Object","assign","push","apply","replace","f","h","Map","get","set","arguments","minify_style","trim","split","map","join","htm","bind","create_element","type","props","children","node","handle_custom_element","_node","constructor","name","promise","render","new_node","__INTERNAL_RERENDER__","concat","style","_head","dom","document","getElementsByTagName","arr","presis","clean","Array","isArray","filter","_","el","removeChild","appendChild","is_fn","maybe_fn","get_pathname","window","location","pathname","router","_container","handle_props","element","entries","forEach","key","value","startsWith","toLowerCase","console","log","setAttribute","handle_children","child","undefined","createTextNode","create_dom_nodes","handle_link","createElement","href","onclick","preventDefault","history","pushState","render_route","_config","on_route_change","handle_promise","placeholder","_props","_placeholder","then","parentNode","replaceChild","handle_default","maybe_node_arr","vnode","path","route_component","head_component","head","innerHTML","from","querySelectorAll","getAttribute","onpopstate","freeze","lib","getElementById","Home","About","Contact","query","Post","Posts","NotFound","title","num","current","keys","test_async","timer","msg","Promise","resolve","setTimeout","with_data","id","data","fetch","json","completed","spinner","todo","Statefull","initial_color","styles","content"],"mappings":";;AIAA;;;;AACA,MAAM;AJDN,AGAA,AFAA,ACAA,AECQqC,EAAAA,EJDJrC,CAAC,GAAG,AICF,UJDWC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,AEC1B,AEAgB0D,EAAAA,IFAVpB,CFDwB,IAAIrC,AECvB,CFDwB,EECrB,CFDsB,AECrB,CFDW,EAAYA,CAAC,EEClB,CFDmBH,CAAC,CAACI,MAAhB,EAAuBD,CAAC,EAAxB,EAA2B;AAAC,AGCtD,ADCE,AEDI,IAAqByG,IJD+BvG,AEElDoC,CFFmD,EEEhD,CFFiDzC,CAAC,CAACG,AEEhDuC,CFFiD,EAAF,CAAP,AICtD,IFCsB,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAZ;AFFoD,AEGpD,AEAFiB,MFAMpB,AEAA,CAACE,CJH4DpC,CAAC,EEGzD,CFH0D,EEGvD,CEAC,CFAb,AEAcuG,QJH+D,MIGxE,CJH+ExG,AIGvD,CJHsC,GAAmBJ,CAAC,AIGlF,CJHmFI,AIGpF,CJHmF,CAApB,AIG9B,GJHsDA,CAAvC;AAAyC,ACE/F,ACEE,AEAA,MHFIa,CGEC,EFAE,CFJ0FlB,CAAC,CAACG,CAAD,AIIvFgC,CJJkF,GAASjC,CAAC,ACEvF,CDFwF,AIItF,CJJqF,CAAD,ACEnFG,CAAC,CGECyG,CJJsFxG,CAAd,CCErED,CAAC,AGEC,CJJmF,ACEnFc,IAAF,EDFyFnB,CAAC,ACEjFoB,CDFkFjB,CAAD,CAAL,ECErF,CDF8F,ACE/E,CDFgFD,CAAC,CAAC,CAAD,ACEhG,CDF+F,CCE1EmB,EDF+EnB,CAAC,ACErG,CDFsG,ACE7EG,CDF4E,ACE3E,CDF0E,AIGvF,GHDiBA,CDF4E,ACE3E,CAACc,CDF8D,EAAgBnB,CAAC,ACEjF,CDFkF,CCEhH,CDFkHG,CAAH,ACEvEmB,CDFsD,GCE9F,CDFsHhB,ACEzE,CDFwC,CCErF,CAA1B,CDFkJ,MAAIN,CAAC,CAACG,CAAD,CAAL,GAASD,CAAC,CAAC,CAAD,CAAD,GAAKK,MAAM,CAACC,MAAP,CAAcN,CAAC,CAAC,CAAD,CAAD,IAAM,EAApB,EAAuBI,CAAvB,CAAd,GAAwCJ,CAAC,CAACO,IAAF,CAAOT,CAAC,CAACG,CAAD,CAAD,GAAKJ,CAAC,CAACW,KAAF,CAAQ,IAAR,EAAaZ,CAAC,CAACC,CAAD,EAAGO,CAAH,EAAKL,CAAL,EAAO,CAAC,EAAD,EAAI,IAAJ,CAAP,CAAd,CAAL,GAAsCK,CAA7C,CAA3F;AAA2I,ACI1O,ACCIU,AEAF,IFAEA,GAAG,EAAE,CAAC4B,EEAE,CFAH,EAAMC,GEAGV,GFAT,GEAgB,EFAC,EEAE4E,KAAM,KAFK;AFGjC,AEAJ,YFAUjE,EEAE,CDHCvC,EDGE,GAAGwC,AEAAZ,CDHC,CAACwE,GDGG,CAAC3D,AEAC,EDHZ,CAAc,CCGCgE,GFAV,CAAcpE,GAAd,AEAkB,IFAGA,CEHF,EFGnB,GAA2B,CAACA,GAAD,EAAMK,MAAN,CAAaC,CAAC,IAAIA,CAAlB,CAAzC;AFNoO,AGG5Mf,ACI5B,EDJ4BA,MAAM,CHH6MjC,CAAP,AGG5MiC,CCInB,CAAC,aDJiB;AHHsN,AGG7MyB,ADIhC,AEAQqD,CJPd,CGGsCrD,ECIxBqD,IDJ8B,EAANrD,ADI7B,CAACf,MAAJ,EAAY;AFPlB,AGG6B,ADKrBL,AEDI,CDJG,ECIJ,CJPyOzC,CAAC,GAAC,AEQ9OyC,AEDkBL,KFCb,CAACd,AEDmB,GFCzB,CFRuPvB,AEQ7OqD,AEDkB+D,CJPkN,CEQlO,CFR6O,CIOxN,EFCjBzE,GAAG,CAACW,IEDsB6D,KAAM,EFChC,CAAgB9D,CELD,CFKf,CAAhB;AFR0P,AIQhQ,OJRoQ,IAAIpD,CAAJ,AIQ1P,EJRgQC,CAAN,EAAQC,CAAC,AIQ7PkC,GJR8P,CAAV,EAAYjC,AIQzP,CJR0P,GAAC,AIQxPiH,EJR0O,EAAiBhH,CAAC,AIQtP,GJRuP,EAAnB,AIG/N,EJHqPE,CAAC,GAAC,CAAC,CAAD,CAAxB,EAA4BC,CAAC,GAAC,UAASR,CAAT,EAAW;AAAC,AESxS0C,AEAN,OAAK,CFACA,EFT4SvC,CAAJ,EESnS,AEAAkC,GJT2SrC,AESxSgD,CFTyS,EISrS,EFAZ,CFToT5C,CAAC,AIStSkH,GJTuSlH,CAAC,CAACS,GIShS,IJT8R,CAAU,AIGj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Bq0BrB,EEiB/0B,AEAiB,CJjB0zB,EAAD,AEiBv0B,GFjBg1B,EAAr2B,CEiB2B2C,CEAiBwD,KFAX,AEAgB,CFAfvD,AEAgB2D,KAAM,GFA7B,CAAgB1D,AEAgBsD,KAAK,CAACK,EFAjE,CEAqE,UAN3D;AJXV,ACeE,AGGI,IJlBk2BpH,CAAC,GAACF,CAAC,ECeh2B8B,AGGA,CJlBi2B,KIkB31BK,KJlBo2BrC,CAAT,AIkBp1B,EJlB+1B,OCer3B,CAA+BiC,KAA/B,EAAsC;ADfg1B,ACgBp3B,ACGW,MFnB62B/B,CAAC,CCgBt3B+B,CCGiB6B,CFnBs2B3D,CAAC,CAACc,CCgBp3B,CAACW,CDhBi3B,AEmB/2B,CFnBq3B5B,AEmBr2B+D,CFnB+1B,CAAN,ACgBj3B,CAAW7B,OCGH,EAA4BkB,CAA5B,CDHR,CAAuBjB,ACGgB,IDHvC,KAAgC,eAAnC,EAAmD;ADhBg1B,ACiBj4B,ACIJ,SFrB44BjC,CAAC,CEqBp4B8D,EDJErC,CDjBo4BxB,CAAC,CAACe,GAAF,CAAMlB,CAAN,EAAQE,AEqBv5B,CFrBw5B,AEqBl4B2B,GFrBm4B5B,ACiBh4B,CDjBi4B,ACiBh4B,CDjBi4BD,AEqB35B,CFrB05B,CAAX,AEqBl3BiE,CFrB+2B,EAAmB/D,CAA1B,GEqBr4B,EAAsC,CDJb,EAAgB;ADjBw3B,ACiBv3BkC,ACKxC3B,CFtBu2B,GAAyD,AEsBh6BA,IDLwC2B,ECKlC,CAAC8B,GFtBk6BlE,CAAT,ACiBj3B,EDjB43B,ACiB13BiC,CCKjD,CAAeJ,KAAf,EAAsBsC,OAAtB,CAA8B,CAAC,CAACC,GAAD,EAAMC,KAAN,CAAD,KAAkB;AFtB43B,ACiBr4B,ACMrC,AEZI,KADC,EJVy6B,ACiBz5B,EAAkC,CCMnDD,CFvB86BlE,ACiB75B,CDjB85B,ACiBn7B,CCMO,CAACoE,CFvB46B,EAAN,EAASlE,CAAC,GAAC,CAAf,AEuBt6B,CAAe,CFvBw6BA,CAAC,EEuBx7B,CFvBy7BJ,CAAC,CAACM,EEuBn6B8D,GAAG,CFvB24B,AEuB14BG,EFvBs6BnE,CAAC,EAA7B,EAAgCF,CAAC,GEuB/6B,CFvBi7BF,CAAC,CAACI,CAAD,CAAD,CAAKE,CEuBh6B8D,GAAlD,EFvB68B,AEuBt5B,GFvBk6B,GAAZ,GAAgBpE,CAAC,CAACI,CAAD,CAApB;ACkB38B,ACMG6D,AEDJwB,IAAAA,IFCIxB,OAAO,CAACG,GAAD,AEDI,CFCX,CEDcqD,EFCCpD,KAAf,AEDa,IAAa;AJvBs8B,AEyBj+B,AEDDG,MAAAA,CFDA,EFvBy+BrE,CAAC,CAACD,CAAD,CAAD,AEyBl+B,AEDA,CAACuE,GFCEL,AEDV,CJxBg/BjE,AIwBp+BsH,CJxBq+B,CAACvH,AEyBr+B,CFzBo+B,CAAD,EEyB/9B,CFzBo+BD,AIwBr/B,CJxBs/B,CAACD,CAAD,CAAb,CAAP,iBEyB39B,EAAmC;AFzBi9B,ACmB7/B,ACOIwE,AEDH,CJzBL,OE0BQA,EDPEnC,KCOK,CDPC,ACOAoC,GDPGxC,ACOX,CAAY,IDPI,CAACL,IAAN,CAAWK,KAAK,CAACJ,ECO5B,EAAgCoC,CDPrB,CAAf,KCOI;AACD,AEjBI,OFeE,MAEA;AF3BogC,ACoB7gC,ACQIA,AEzB+B,CAAjC,CAAN,MFyBQA,EDRE3B,KCQK,CAACoC,EF5B0gCzE,ACoBxgC,CDpB+/B,EAAW,ACoBvgC,OAAOoC,ACQpB,CAAqB+B,GAArB,EDRa,ACQaC,KDRK,ACQ/B,UDRa,GAA+BhC,MAAM,EAArC,GAA0CA,MAA3D;ADpByhC,AE6BthC,MF7B0hCnC,CAAC,GAACF,CAAC,CAAC,IAAD,EAAMI,CAAC,CAACH,CAAD,CAAP,EAAWkB,SAAX,EAAqB,EAArB,CAAP;AAAgC,ACqBzjC,ACSC,AEDL,KFPI,GDDG,CDrB6jCjB,AI6B3jCkH,CJ7B4jC,CAAC9G,EI6BtkC,CAAc,CHRA+B,EDrBsjC,GAAS,CAAT,ACqB7jC,GDrBwkCnC,CAAX,CCqB3iC,EDrBwjCA,CAAC,CAAC,CAAD,CAArB,ICqBzjC,EAAiC;ADrBijC,ACsBhlCoC,ACSH,AEFa6E,EAAAA,IHPV7E,QAAQ,CAACT,KAAT,CAAeU,qBAAf,GAAuCF,MAAvC;AACD,AGMS,CAAd,EAAyB;AJ7B6jC,AEiCplC,AEHA,SAAOA,E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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["var n = function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p++],a=\"number\"==typeof s?u[s]:s;1===r[p]?e[0]=a:2===r[p]?(e[1]=e[1]||{})[r[++p]]=a:3===r[p]?e[1]=Object.assign(e[1]||{},a):e.push(r[p]?t.apply(null,n(t,a,u,[\"\",null])):a)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],a=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,2,e):4===u&&r&&(s.push(n||e,2,r),r=\"\"),e=\"\"},f=0;f<n.length;f++){f&&(1===u&&a(),a(f));for(var h=0;h<n[f].length;h++)t=n[f][h],1===u?\"<\"===t?(a(),s=[s],u=3):e+=t:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(a(),u=1):u&&(\"=\"===t?(u=4,r=e,e=\"\"):\"/\"===t?(a(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,4),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(a(),u=2):e+=t)}return a(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]};\n","import htm from './htm.min.js'\n\nconst minify_style = s => s.trim().split('\\n').map(s => s.trim()).join('')\n\n/*\nconst typeOf = o => Object.prototype.toString\n  .call(o)\n  .replace(/[[\\]]/g, '')\n  .split(' ')[1]\n  .toLowerCase()\n*/\n\nexport default htm.bind(function create_element(type, props, ...children) {\n  const node = {type, props, children}\n  node.props = node.props || {}\n  function handle_custom_element(_node) {\n    if(_node.type.constructor.name === 'AsyncFunction'){\n      return create_element('__PROMISE__', {promise: _node}, [])\n    }\n    const render = _node.type(_node.props)\n    const new_node = typeof render === 'function' ? render() : render\n    if(typeof render === 'function') {\n      new_node.props.__INTERNAL_RERENDER__ = render\n    }\n    return create_element(\n      new_node.type,\n      new_node.props,\n      ...new_node.children.concat(_node.children)\n    )\n  }\n  if(node.props.style) node.props.style = minify_style(node.props.style)\n  return typeof type === 'function' ? handle_custom_element(node) : node\n})\n","// what a mess!\nconst _head = (() => {\n  const dom = document.getElementsByTagName('head')[0]\n  let _head = []\n  return {\n    set: (arr, presis) => {\n      const clean = Array.isArray(arr) ? arr : [arr].filter(_ => _)\n      if(!presis) {\n        _head.map(el => dom.removeChild(el))\n        _head = clean\n      }\n      clean.map(node => dom.appendChild(node))\n    }\n  }\n})()\n\nconst is_fn = (maybe_fn) => typeof maybe_fn === 'function'\nconst get_pathname = () => window.location.pathname\n\nexport default function router(_container, _) {\n\n  function handle_props(props, element) {\n    Object.entries(props).forEach(([key, value]) => {\n      if (key.startsWith('on') && key.toLowerCase() === key) {\n        element[key] = value\n      } else if(key == '__INTERNAL_RERENDER__') {\n        console.log('has rerender => ', element)\n      } else {\n        element.setAttribute(key, value)\n      }\n    })\n  }\n\n  function handle_children(children, element) {\n    children.forEach(child => {\n      if (child === undefined || child === null) {\n        return\n      } else if (typeof child === 'string' || typeof child === 'number') {\n        element.appendChild(document.createTextNode(child))\n      } else if (Array.isArray(child)) {\n        child.map(({type, props, children}) => {\n          element.appendChild(create_dom_nodes({type, props, children}))\n        })\n      } else {\n        element.appendChild(create_dom_nodes({...child}))\n      }\n    })\n  }\n\n  function handle_link(_node) {\n    const { props, children } = _node\n    const node = children[0]\n    const element = document.createElement(node.type)\n    if(node.type == 'a') {element.href = props.href}\n    element.onclick = e => {\n      e.preventDefault()\n      window.history.pushState({}, '', props.href)\n      render_route(props.href)\n      if(_._config.on_route_change) {_._config.on_route_change(props.href)}\n    }\n    handle_props(node.props, element)\n    handle_children(node.children, element)\n    return element\n  }\n\n  function handle_promise(node) {\n    const { props } = node\n    const { placeholder, ..._props } = props.promise.props\n    const new_node = props.promise.type(_props)\n    const _placeholder = placeholder()\n    const element = create_dom_nodes(_placeholder)\n    new_node.then(_node => {\n      element.parentNode.replaceChild(create_dom_nodes(_node), element)\n    })\n    return element\n  }\n\n  function handle_default(node) {\n    let {type, props, children} = node\n    const element = document.createElement(type)\n    handle_props(props, element)\n    handle_children(children, element)\n    return element\n  }\n\n  function create_dom_nodes(node) {\n    if(node.type == 'Link') {\n      return handle_link(node)\n    } else if(node.type === '__PROMISE__') {\n      return handle_promise(node)\n    } else {\n      return handle_default(node)\n    }\n  }\n\n  function maybe_node_arr(arr){\n    return Array.isArray(arr)\n      ? arr.map((vnode => create_dom_nodes(vnode)))\n      : create_dom_nodes(arr)\n  }\n\n  function render_route(path) {\n    const route_component = _[path]\n      ? _[path]()\n      : _['*']()\n    const head_component = (_._config.head[path] && path !== '*')\n      ? _._config.head[path]()\n      : []\n    _head.set(maybe_node_arr(head_component))\n    _container.innerHTML = ''\n    _container.appendChild(create_dom_nodes(route_component))\n  }\n\n  if(_._config && _._config.head['*']) {\n    const head_component = is_fn(_._config.head['*']) ? _._config.head['*']() : 0\n    if(head_component) {_head.set(maybe_node_arr(head_component), true)}\n  }\n\n  Array.from(document.querySelectorAll('.spa-nav'))\n    .map(element => {\n      element.onclick = e => {\n        e.preventDefault()\n        const href = element.getAttribute('href')\n        if(get_pathname() === href) {return}\n        window.history.pushState({}, '', href)\n        render_route(get_pathname())\n        if(_._config.on_route_change) {\n          _._config.on_route_change(get_pathname())\n        }\n      }\n    })\n\n  render_route(get_pathname())\n\n  window.onpopstate = () => {render_route(get_pathname())}\n}\n","import render from './render.js'\nimport router from './router.js'\n\nexport default Object.freeze({render, router})\n","import lib from '../src/index.js'\nconst { render, router } = lib\n\nrouter(document.getElementById('app'), {\n  '/': () => render`<${Home} content='Hello World'/>`,\n  '/about': () => render`<${About} />`,\n  '/contact': () => render`<${Contact} />`,\n  '/post': ({ query }) => render`<${Post} query=${query}/>`,\n  '/posts': () => render`<${Posts} />`,\n  '*': () => render`<${NotFound} />`,\n  _config: {\n    head: {\n      '/': () => render`\n        <title>Home</title>\n        <meta name='description' content='our home page'/>\n      `,\n      '/about': () => render`<title>About</title>`,\n      '/post': ({query}) => render`<title>${query.title}-${query.num}</title>`,\n      '*': () => render`\n        <meta name='author' content='5alidz' />\n        <meta name='author' content='5alidz' />\n      `\n    },\n    on_route_change: (current) => {\n      console.log(current)\n    }\n  }\n})\n\nfunction Post({ query }) {\n  return render`\n    <div>\n      <h3>${query.num}</h3>\n      <p>${query.title}</p>\n    </div>\n  `\n}\n\nfunction Posts() {\n  return render`\n    <div>\n      <h1>all the posts you want</h1>\n      <Link href='/post?num=100&title=img' as='/posts/product'>\n        <img src=\"https://via.placeholder.com/150\" />\n      </Link>\n      ${[...Array(20).keys()].map(n => render`\n        <div>\n          <h3>i'm post number-${n}</h3>\n          <Link href=${`/post?num=${n}&title=hiiiii`} as=${`/posts/${n}`}>\n            <a>Read More</a>\n          </Link>\n        </div>\n      `)}\n    </div>\n  `\n}\n\nasync function test_async({ timer }) {\n  const msg = await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve('hello')\n    }, timer)\n  })\n  return render`\n    <div>${msg}</div>\n  `\n}\n\nasync function with_data({ id }) {\n  const data = await fetch('https://jsonplaceholder.typicode.com/todos/' + id)\n  const json = await data.json()\n  return render`\n    <div>\n      <h3>${json.title}</h3>\n      <p>${json.completed ? 'completed' : 'progress'}</p>\n    </div>\n  `\n}\n\nfunction spinner() {\n  return render`\n    <p>...</p>\n  `\n}\n\nfunction todo({ id }) {\n  return render`\n    <${with_data}\n      id=${id}\n      placeholder=${ () => render`<${spinner} />` }/>\n  `\n}\n\nfunction Statefull({ initial_color }) {\n  const styles = `\n    background-color: ${initial_color};\n    width: 1rem;\n    height: 1rem;\n    display: inline-block;\n  `\n  return () => render`\n    <div style=${styles}></div>\n  `\n}\nfunction Home({ content }) {\n  return () => render`\n    <div>\n      <h1>Home</h1>\n      <p>${content}</p>\n      <${todo} id=1 />\n      <${todo} id=2 />\n      <${todo} id=3 />\n      <${test_async}\n        timer=${500}\n        placeholder=${() => render`<${spinner} />`} />\n      <Link href='/posts'>\n        <a>all posts</a>\n      </Link>\n      <div>\n        <h3>\n          Statful => <${Statefull} initial_color='blue'/>\n        </h3>\n      </div>\n    </div>\n  `\n}\nfunction About() {\n  return () => render`\n    <div>\n      <h1>About</h1>\n    </div>\n  `\n}\nfunction Contact() {\n  return () => render`\n    <div>\n      <h1>Contact</h1>\n    </div>\n  `\n}\nfunction NotFound() {\n  return render`\n    <h1 style='margin: 0 auto;'>404</h1>\n  `\n}\n"]}