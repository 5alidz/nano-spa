{"version":3,"sources":["../src/htm.min.js","../src/create_element.js","../src/create_dom_nodes.js","../src/utils.js","../src/handlers.js","../src/router.js","../src/index.js","pages/index.js","pages/about.js","pages/contact.js","pages/404.js","pages/posts.js","pages/post.js","main.js"],"names":["n","t","r","u","e","p","length","s","a","Object","assign","push","apply","replace","f","h","Map","get","set","arguments","minify_style","trim","split","map","join","count","htm","bind","create_element","type","props","children","node","handle_custom_element","_node","constructor","name","promise","id","render","new_node","concat","style","handle_props","element","entries","forEach","key","value","startsWith","toLowerCase","setAttribute","handle_children","child","undefined","appendChild","document","createTextNode","Array","isArray","create_dom_nodes","call","children_with_handlers","LINK","PROMISE","createElement","get_current","window","location","pathname","__PUSH_STATE__","route","history","pushState","UNMOUNT","MOUNT","on_unmount","methods","root_handler","root","on_mount","route_dom","traverse","callback","regex_match","routes","matched","keys","filter","regex","RegExp","regex_vals","exec","test","matches","init_root","replace_with","dom_node","innerHTML","init_head","components","head","prev_head","clear_prev","removeChild","render_single","vnode","render_arr","nodes","handle_component","comp","is_to_prev","init_routes","head_handler","cache","caches","NOT_FOUND","gen_tree","__FINAL__","tree","with_handlers","dom","handlers","placeholder","_props","_placeholder","then","parentNode","replaceChild","target","href","onclick","preventDefault","route_tree","DONT_CACHE","includes","bind_initial","render_route","querySelectorAll","link","getAttribute","router","o","route_handler","prev","onpopstate","freeze","lib","HomeHead","test_async","timer","msg","Promise","resolve","setTimeout","say_hi","console","log","with_data","data","fetch","json","title","completed","spinner","todo","Home","content","change_title","getElementById","textContent","About","AboutHead","Contact","NotFound","defaultHead","posts_data","post","Posts","Post","PostHead","JSON","stringify"],"mappings":";;AaAA;;AAEA;;AACA;AXHA,ADAA,AGAA,AJAA,AMAA,ADAA,AFAO,AMAP,ITAIA,CAAC,CGAQkE,EHAL,CEACvB,QCAe,CHAP1C,CAAT,CGAmB,CDA3B,AFAmBC,CEAG4B,AFAd,EAAa3B,CAAb,CGAyBgE,CDAjC,AFAuB/D,CAAf,CEAqBwC,CFAJ,EGAc,CAACwB,GDAxC,EAAsC,GCAL,CAAgBC,QAA1C;ADCL5D,AFDwB,AaI1B,AHJA,AFAA,ADAA,AKAA,ADAA,ETCEA,KFD4B,CECtB,CAACoC,EFDyBxC,CAAC,GAAC,CEClC,AFDwB,CECTyB,CFDqBzB,CAAC,GECrC,AFDsCH,CAAC,CECjB4C,AFDkBxC,MAAhB,CECxB,CAA8B,AFDiBD,CEChB,AFDiB,CEChB0C,CFDR,EECO,AFDoB,EECdC,KAAN,CAAD,KAAkB;AAC9C,AEDJ,AJDsD,AMCtD,ADKA,QHJQD,AFFkDxC,CAAC,EEEhD,CAAC0C,AFFgD/C,CAAC,CAACG,CAAC,EAAF,CAAP,IEE9C,CAAe,IAAf,KAAwB0C,GAAG,CAACG,WAAJ,OAAsBH,GAAlD,EAAuD;AACrDH,AFHgD,AaKtD,ADJA,MVEMA,EFH6DpC,CAAC,GAAC,CEGxD,CAACuC,GAAD,CAAP,GAAeC,GFH0D,EEGzE,KFHgFzC,CAAjB,GAAmBJ,CAAC,CAACI,CAAD,CAApB,GAAwBA,CAAvC;AEIjD,ADFL,AGCA,AJH+F,AKQ/F,AFPO,AMAP,KPCI,CDAEa,AIMAoH,AFPOlE,AMAP,ITD6FpE,CEIxF,AFJyF,CAACG,CAAD,CAAL,GAASD,CCEtF,ADFuF,AKQvF,CLRwF,CAAD,AGC9E,CFCNG,ADFmF,AKQnF,CJNC,AIMAkI,CFPQlE,CHD+E/D,CAAd,CCErED,CAAC,CAACc,ADFmF,AGC5E,IFCT,AEDa8C,EHD4EjE,AKQ9F,CJNcoB,ADFiF,CAACjB,AKQjFyE,CLRgF,CAAL,AGClE,CAACN,CFCpB,CAAe,ADF+E,CAACpE,CAAC,CAAC,CCEjG,ADFgG,CAAD,AGClF,CFCQmB,AEDOkD,CEOjC,CLRyGrE,CCEpG,ADFqG,AKQ7EyE,CJNCtE,ADF6E,CCE5E,ADF2E,CAAD,GCEtEA,AEDjB,CFCkB,ADF2E,AKQ/G,AFP2C,CFCNc,CDF8D,AGCjF,EHDiGnB,AGCpE,CFCZ,ADFiF,AKQ3E,CLR4E,AGCnG,CFCb,CDFkHG,AGCpEkE,CFCN/C,ADFuE,CAAjB,GCE9F,AEDa,CFCgC,ADFyEhB,AGCzI,CHDwG,CCErF,CAA1B,CDFkJ,MAAIN,CAAC,CAACG,CAAD,CAAL,GAASD,CAAC,CAAC,CAAD,CAAD,GAAKK,MAAM,CAACC,MAAP,CAAcN,CAAC,CAAC,CAAD,CAAD,IAAM,EAApB,EAAuBI,CAAvB,CAAd,GAAwCJ,CAAC,CAACO,IAAF,CAAOT,CAAC,CAACG,CAAD,CAAD,GAAKJ,CAAC,CAACW,KAAF,CAAQ,IAAR,EAAaZ,CAAC,CAACC,CAAD,EAAGO,CAAH,EAAKL,CAAL,EAAO,CAAC,EAAD,EAAI,IAAJ,CAAP,CAAd,CAAL,GAAsCK,CAA7C,CAA3F;AEKzFoC,AFLoO,AKSxOY,AQHF,AHLA,AFAA,ACAQjB,AFAR,AIAA,ENQEiB,AIRMjB,IPIFK,AQJA,AFAA,ADAA,AIAA,INQI,CAAC8F,EHJE,CAACvF,YAAR,CAAqBJ,AGIzB,CAA0B,EHJtB,EAA0BC,GGI9B,EHJI,AGI+BF,OAAnC,CAA2C6F,IAAI,IAAI;AHHhD,ADHL,AKAA,ADOIA,AKTIpG,AFAAA,ACAF,AFAEA,AIAAA,EDAAA,AFAAA,ADAAA,AIAAA,EVEJd,AIOAkH,AITeQ,IJSX,CJPC,AIOAhB,GJPG,CAAZ,GIOI,EITJ,CJSmB,UAAS/H,CAAT,EAAY;AHH5B,AFPuO,AKWpOA,AFRN,AUIA,AHNM,AFAA,ADAA,AKCN,ADDM,GTAJ,CQAiB+I,AFAAA,ADAAA,AIAAA,ENUb/I,AFRAsE,ASDA,CPSC,CAAC0D,CLXyOhI,CAAP,GGG7N,GAAG,EOFhB,AFAA,ADAA,AIAA,INUM,YFRN;ADKC,AEGD,AJXmP,AKY7O,AFRN,AMDO,AGDCmC,ADCD,CXHP,CYEQA,IRSF6C,ADPAT,AQDOqG,GFAGH,ENCL,CEQC3C,EFRE,CFACxG,CIQC,AITT,AEAgB,CPQN,ECCE,AITO,AEAA,CPQN,AOPlB,CPOmB6C,GCCGqE,EDDJ,EAAQvD,EDP5B,CFAmB1D,GGOC,CHPL,CAAS,AIQL,CAAkB,EDDE,ICCpB,CAAb,CJR2BC,cAAT,CAAwBC,IAAxB,EAA8BC,KAA9B,EAAqC,GAAGC,QAAxC,EAAkD;AACxE,AGOA,AJZF,AUGO,AFAA,ACCL,AFDK,AKDD,ADEHO,EAAAA,EXJiPrC,AYEjOkJ,ADEd,CXJgP,CIY/O7D,AORC,CAAL,CVCMtD,ADL8O,CUGtO8I,AFAAH,ACCP,AFDOvB,GNEJ,CGOC,CITN,CPEQ,AQDA7G,CLQCe,CMTT,AFAiB,ADAjB,CPHwPtD,AYE/P,CZFsP,CUG3N,AHAA,CPHsO,ASI3O,ILQpB;AFFF,ADLgB6B,AGQdpB,AJbgQ,AKa5P,AFPC,AOFL,AFAA,ADAE,AIAMyJ,EPSRzJ,AOTQyJ,EVCMrI,EECH+C,CHNyP,AWIvP,CVCA,AGQP,CFHCxB,AEGAmC,AMTAhD,AFAA,ADAEA,AIAM,CNSR,CLbiQtC,CAAJ,CIapQ,CAAYoF,AJb8PnF,CAAN,AMOvPO,AIHC,AFAD8B,ADAG,CJEK,CHNuPpC,CAAC,CGMrP,CCOxB,ADPyB0E,CHNqP,AMO3P,AEHC,CJSAW,AJbgP,AMOhP0D,EJGtB,AFVkR9I,CEUzP2B,AFV0P,EGMzP,CCOxB,AJbkR,AMOrQ,CFMcgB,AENA,AHDO+B,CHNkO,EIatO,AJbuPzE,CEUvR,AFVwR,EEUrPuC,CEGCG,AJbqP,EAAnB,CIa/N,CJbqPxC,AKajQ2H,CLbkQ,AGMnQ,CDI1B,CCJkD3D,CDIN,AEGA,AJbkP,AKaxR,CLbyR,CAAD,AKa7P,CDA/B,AJboQ,CGM5O,CCOuBhD,AJbiPf,CAAC,EIajS,CAAmDuC,AJb+O,AGMxO8B,GCOJ,IAAI,ADPO,CAACH,EHNyO1E,CAAT,EAAW,EGM5O,CAAP,IACvD6E,OAAO,CAACH,OAAD,CAAP,CACDH,KAAK,IAAIL,WAAW,EADnB,EAEDY,YAAY,CAACC,IAAb,CAAkBhD,QAAlB,CAA2B,CAA3B,CAFC,CADE;ADKLA,ADNoBD,AGSlB,AJd4S,AMOlRS,ADMI,AQJlC,ADLO,ADAL,CADwB,CTQxBR,AIJ4BQ,CKF5B,CVAoBT,EYIhB,ETKCuD,AEP6B,CLFrB,AWDC8F,CVON,AFX0ShL,AMOtRoC,CJInBO,AFXqS,EYIzS,CRUM,AQVQ,CRUPyB,CJd0SvE,CAAC,CEWvT,CAAiBqD,CEGN,CAAT,CJdwTjD,CIctS,AJduS,CEWrS,EFXsSA,CAAC,CEWnS,AFXoSS,KMOnS,ENPiS,CAAU,sBAAV,EAAiC,EAAjC,CAAL,CAAT,IAAqDN,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,CAArD,GAAoE,MAAID,CAAJ,KAAQH,CAAC,IAAEI,CAAX,KAAeG,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,GAAeD,CAAC,GAAC,CAAhC,IAAmC,MAAIA,CAAJ,IAAO,UAAQC,CAAf,IAAkBJ,CAAlB,GAAoBO,CAAC,CAACI,IAAF,CAAOX,CAAP,EAAS,CAAT,CAApB,GAAgC,MAAIG,CAAJ,IAAOC,CAAP,IAAU,CAACJ,CAAX,GAAaO,CAAC,CAACI,IAAF,CAAO,CAAC,CAAR,EAAU,CAAV,EAAYP,CAAZ,CAAb,GAA4B,MAAID,CAAJ,IAAOD,CAAP,KAAWK,CAAC,CAACI,IAAF,CAAOX,CAAC,IAAEI,CAAV,EAAY,CAAZ,EAAcF,CAAd,GAAiBA,CAAC,GAAC,EAA9B,CAAnK,EAAqME,CAAC,GAAC,EAAvM;AEY5S,ADPyB2B,AGSN,AJdme,AMOpd8G,ADMG,AQJjCA,ADLe/C,ADCpBxD,ELEmCuG,AOE9BA,ADLe/C,ADCpBxD,CXLmQ,AUIpQ,CTC2BP,AUAxB,CXLsfjB,CAAC,AWKrf,CAAL,CTOMuC,AILoC,AOEtC,CbTuf,CAA3P,AMO5NwF,ENPyd/H,CEYlf,AFZmf,GAACd,CEYhfsD,AFZif,CAAChD,MAAjQ,EEY9P,AFZsgBQ,CAAC,CEY/e,CFZsO,EAA4Q;AEaxgB,ADRS,AGSe,AJdifA,AMOlf,AOEbyB,AHFf,AEHoB,ADCX2H,CLEK,AMHR,CCKS3H,AFJN2H,CVAR,AQDA,AGAgC,CZJ6epJ,CAAC,AOI5gB,EICW,EAAE,CXLkgB,MAAIX,CAAJ,IAAOK,CAAC,EAAR,EAAWA,CAAC,CAACM,CAAD,CAAf,CAAD;AEc1gB,ADRHkB,AIQI,AFFC,AUHD,AJAL,AFDA,AKHC,ADAA,CAFwB,CVGxBA,COFA,AGEA,CEGyBmH,CXGvB,CDNE,AEMOnE,CFNNlD,CWDC,GVSG,CDRT,EEMmB,CDEN,ADRAE,EEMS,CAAC6C,AUHzB,CZHmB,CAAC/C,ECQEuB,GDRP,AEMS,EDET,ACFmB4B,EFNL,AIQZJ,EHAc,ADR7B,KIQI,AFFkB,EEEEC,CHAX,ECFiCD,EDEL,KCFY,CAACF,CDENtB,AGA5C,IFFiD,CDEZ,ACFK,IDEW,ACDtDwB,OAAO,CDCD,ACDEF,EDCwD,GCDzD,CAAP,CAAeT,WAAW,EAA1B,EAA8Be,SAA9B,CADE;ADGDrC,AEAF,AJfgiB,AKe9hB,AQJNiG,AHFO,AFAN,AIJSqB,ADCP5H,EAAAA,ECDO4H,ADCL,ETSCtH,AWJA,AHFOmI,ACHN,CEKA,AFLL,EXNsiB,AYKhiB,CRUEtF,GFAG,AFf+hB1E,CEe9hBwC,AFf+hB,CIe9hB,EJf+hB,AUSthB,CNMN,AJfkhB,EAAYxC,AUSrhB,CVTshB,CIe3hB2E,EJf4hB1F,CEe5iB,AFf6iB,CEezhBwD,AFf0hB1C,AUSnhByB,CVTkhB,CIejiB,AJfgiB,CIerhBQ,AJf0hBzC,GIeriB,AMNsB,CNMpC,ACAiB4H,CHAa,CAACzE,AFfigB,EAA0B1C,AKexjB,CLfyjB,EAA3B,EAA8Bd,CAAC,GAACD,CAAC,CAACc,CEe5iB,AFf2iB,CEenhBuC,AFfkhB,CAAKtC,CAAL,CAAF,EEexiB,AFfkjB,CEetkB,KFf0kBZ,CAAJ,GAAM,QAAMF,CAAN,IAASO,CAAC,IAAGD,CAAC,GAAC,CAACA,CAAD,CAAL,EAASJ,CAAC,GAAC,CAArB,IAAwBC,CAAC,IAAEH,CAAjC,GAAmCI,CAAC,GAACJ,CAAC,KAAGI,CAAJ,GAAMA,CAAC,GAAC,EAAR,GAAWD,CAAC,IAAEH,CAAf,GAAiB,QAAMA,CAAN,IAAS,QAAMA,CAAf,GAAiBI,CAAC,GAACJ,CAAnB,GAAqB,QAAMA,CAAN,IAASO,CAAC,IAAGL,CAAC,GAAC,CAAf,IAAkBA,CAAC,KAAG,QAAMF,CAAN,IAASE,CAAC,GAAC,CAAF,EAAID,CAAC,GAACE,CAAN,EAAQA,CAAC,GAAC,EAAnB,IAAuB,QAAMH,CAAN,IAASO,CAAC,IAAG,MAAIL,CAAJ,KAAQI,CAAC,GAACA,CAAC,CAAC,CAAD,CAAX,CAAH,EAAmBJ,CAAC,GAACI,CAArB,EAAuB,CAACA,CAAC,GAACA,CAAC,CAAC,CAAD,CAAJ,EAASI,IAAT,CAAcR,CAAd,EAAgB,CAAhB,CAAvB,EAA0CA,CAAC,GAAC,CAAtD,IAAyD,QAAMF,CAAN,IAAS,SAAOA,CAAhB,IAAmB,SAAOA,CAA1B,IAA6B,SAAOA,CAApC,IAAuCO,CAAC,IAAGL,CAAC,GAAC,CAA7C,IAAgDC,CAAC,IAAEH,CAAtI,CAAvG;AEgB7jB,ADTH,AGSE,AJhB8yB,AKgB5yBwI,AQJJ1D,ANFF,AKLiBzC,ADCP4H,EEMRnF,AFNQmF,ECDO5H,CVSN,CGELmG,AQJA,CFNS,CEMPjF,CFNS,CPUPmC,CFAC,ADTA1D,ICSIyB,AKNA2F,CMEC,CAACoB,CRIC,CAACvC,CHAC,AEAA,CFACvE,EEAE8B,ACAL,CAAZ,CENN,CAA0B,ELMX,AEAa,CFACpC,AEAAuC,ESJrB,CZLN,AYK8B,CZLC1D,AGSV,CFAR,AEAmBqC,CFAvB,EAA0B,AWJ7B,CZLN,AYIK,CTKgB,CHTiB,AGSpC;AFCElB,ADTF,AISC,AQJHgC,ALFK,ADDqBiE,AKLpB,ADCN,CAHwB,CEUxBjE,ANH0BiE,CIH1B,ENGE,CHOEjG,AMNOuH,AINWI,EXGjB9I,AYKC,EAAE,CXIC,CAACX,CDTA,CAACM,CCSP,AMNgB,CNMNG,EDTT,AOGkB,CPHPG,CCSE,IAAIS,AMNOL,AINIuD,MXG5B,AOG+B,CNMP,ADTD1D,AWHY,CVYVmB,AUZW,CAAD,CAAlB,CXGjB,AWHL,KXGqC,GCSf,CACdK,QMPH,GPHH,EAAmD,GCU7B,CAACC,IAAjB,CAAsB,IAAtB,EAA4B,EAAC,GAAG7B;AAAJ,ADThC,AGQF,AJjB8yB,AKkB/yB,AFHI,AUDH,ANJsB,AKJxB,ADCCM,CDEI,AHCP,CIHGA,CNED,AECmC,CIHhC,ERQQ4C,AQRN,CTWG,ASXR,CTUsB,AEAjBO,CFAD,AFjBmzBjF,AactyB,ADRV+B,CZNizB,GCS7yBX,AGQD,CAACiE,AJjBgzBtF,AGexyB,CHf6xB,AaczxBgC,ADRT,ETSQ,CCEjB,ADFkBwC,CCEPR,ESHc,CVCR,ECEjB,ADFwBY,CUDImF,EZLR,CAAC,CGQA3E,GDFJ,KAAoB,AUDJ,ETGF,CAACrF,CHRZ,EAAgB,GGQf,IAAqB,CAA7C,EAAgD,USJ1C;AXQL,ADZuC+B,AGStC,AJlByzB,AKmB9zB,AFHC0C,AUDE,ANJF,AIJQmF,CXPV,AKQA,CFQEnF,AQTQmF,GTSC,CCAL,CQTS,CVE6B7H,AMEpCkH,CJKCpE,AQTQ,ETcN,AKVA,CHOC,ESHO,ANJL,CNFqC,AGSpC,EHTsCjD,AEOpC,CCEC4D,ADFAf,EUDOxC,ANJL,ENFuB,AEO1B,CAAf,CILsBiH,CHOZ,CSHoB,GTGH7D,CSHMgF,CNJf,CAAalB,OHO3B,AGP0B,GMIS,CNJI,IMEnC;AXSJ7G,ADbsDN,AGUtDgD,AJnBN,AagBI,ANJAoE,AILF,CAJwB,CAAnB,EXHyzBxJ,AOY5zBwJ,CPZ6zB,CEsB3zB9G,AEHA0C,EHVsDhD,ADTswB,ECSpwB,EAAE,AWDpDA,CVcC,AEHA,CFGCiB,ADboD9B,AMGpD,AKJC,CLIA,CHOC4D,ASHG,KNJE,AKJA6E,CRWC,AJnBwzB,AagBrzB3H,CTGFQ,EFGjB,CAAoBa,AEHJ,AQXK,CRWX,CSHgB,CbhBqzB5C,CImBvzB,CAACqE,CJnB/B,AagBmCwF,KTGE,CAAC9H,GAAD,CFGK,AEHZ,CFGac,CEHCiC,GFGlB,CAAsB,AWNL,GTGb,CFGJ,AEHV,CSNN,CXS4C,CEHCxC,CFGA,GAAGD,KEHpD;AFGgD,ADbX,AGWtC,AJpBL,AKqBe,AFJb,AUAE,ANJEoG,IPbm1BtJ,CAAC,CGiBr1B4E,AIJC0E,CLSoB,ADbC,CCarB,AFtBq1BvJ,CCSjxB,ADTkxB,AKqBp0B2I,CFJf,CFRkB,AEQjB9G,CFRJ,ADTu1B,COah1B,CMIM,ANJL,CFQC,CLrBk1Bf,AKqBl0B8H,CAAhB,ELrB80B,AKqB3zB,AFJ7B,CUAoBvG,CbjBm0B,AOa/0B,CAAP,CJIgBwC,CHjB+0B,EAAr2B,AaiBgC,CVAN,CAAChD,EUAQmJ,MVAb,CAAc5K,KUAK,CVAvC,EAA0C,EUJlC;AXUL,ADbA,AGWF,AJrBH,AKsBE,AFJEyE,AUAA,ANJC,GHDH,AQPA,CZNs2B3E,AGkBp2B2E,CHlBq2B,AOY31B,EAEPuE,CPdm2BpJ,AKsBl2B,AFJA,CHlBm2B,AGkBl2B6B,GHlBm2B,AOY91B,CAAV,IJMA,EUAgB+D,CVAAf,EHlBi2B/E,CAAT,CGkBp1B,CHlB+1B,AGkB91B+B,CUAN,IAAaQ,GVAZ,CAAchB,EUAK,CVAnB,CAAkB8B,KAAK,IAAI,SUAWgI,IAAI,CAACC,SAAL,CAAexF,OAAf,CAAwB,QALxE;AXWP,AEFD,AJtBs3B,AKsB92Bf,AFHN,AUAA,ANJD,AKJF,ADDD,GTCE,AKAkB,CFWVA,AEXR,EPX03B7E,AWUt3B+K,CXVu3B,CKsBr3B,CDAC3F,CJtBq3BnF,AWUp3B,CXVq3B,CAACc,CGmBr3BiE,AQTE,CAAC,CXVg3B,CIsB53B,AJtBk4BlF,CAAN,CAAN,CamBp2B8F,EVAD,CAACzC,IUAD,CVAA,EAAQ8B,CUAK5C,MAAO,CVApB,CAAf,EUAsC4I,UAAK,YAAWrF,OAAQ,IANxD;AXYT,ADdG,AGYH,AJvBs4B,AKsBv3BT,AFFX,AUAD,AFVW6E,CPCf,CODeA,ENYC7E,CFJI,CAAhB,CQRU,EXVg4BnF,AaoB33B,CZTTqC,ADXq4B,AKsBz3B,GAAC,CLtB03BpC,CAAC,AKsB14B,AQFiBoC,CZTT,ADXm4BrB,GCWh4BgB,ADX83B,CAAMlC,CAAN,AaoBj3B,EbpBy3BE,CCWj4B,ADXk4B,CCWj4B2B,AYSUiJ,EbpBw3B7K,CAAC,CCWz4B,ADX04BD,CCW/3BkC,ADX83B,CAAX,CAAH,EAAmBhC,CCW93B,ADXo2B,AaoB31B,CZTR4B,KAAjB,CAAf;ADX+5B,AKsBx4BuE,AFDxB,AURO,ANGR,AKHK,ADHe/D,CXVq1B,CWUr1BA,CECf,CbX65B,AKsBz4B+D,IAAI,AENvBsD,CKHQyB,EPSgB,EAAxB,CLtBq6BpL,AOgB/5B,CPhBs5B,EAAW,AOgB95B,AKHV,CAAkB8F,KLGF8D,EKHhB,EAA2B,GLGJ,CAACC,GAAR,CAAY,IAAZ,CAArB;ALWa,ADfX,AGaG,AJzBy6B,AKsB54BhF,AQAlCwB,ADRA,ADJY,CAAD,CEYXA,ERAkCxB,EDGvBkB,ASHP,AFZyBxD,CXVq5B,CasB56B,ADRA,CVagBqB,CDfdpB,CDZ86BtC,AKsB74B,CLtB84B,AWUn5B,ENYM,CDGtB,AJzBo6B,CKsBl7B,CLtB46B,CCYl6B,AGaQ6E,CJzBm6B3E,CAAC,CCYz6B,CGaI,CJzBs6B,CAAf,CE2Bj6B,CAA0B4B,AEFN,AJzB85B5B,CAAC,CCYt6BmC,ECeb,AF3Bo7BvC,CAAC,CE2Br5B,AF3Bs5BM,ECYh7B,IDZ25B,CCYz4B,CDZq6BF,CAAC,EAA7B,EAAgCF,CAAC,GCY57B,CDZ87BF,CAAC,CCYh6BuC,ADZi6BnC,CAAD,CAAD,CAAKE,GCY95B,EAArC,CDZ87B,ECYp5BiC,CDZg6B,GAAZ,ECY/8B,CDZ+9BvC,CAAC,CAACI,CAAD,CAApB;AE4B98B,ADfE,AGaF,ACJ8C8G,AFA9C,AUCE,ANNF,AKHQgD,IPQsChD,AORtCgD,EVcJ,GEFG,ACJ4C,AFA5CnF,AUCAqE,ANNA7G,ENJEX,CIS2C,CFApD,EILc,UNJS,AYSjB,CZRFY,QAAQ,CAACX,IADU,EAEnBW,QAAQ,CAACV,KAFU,EAGnB,GAAGU,QAAQ,CAACT,QAAT,CAAkBU,MAAlB,CAAyBP,KAAK,CAACH,QAA/B,CAHgB,CAArB;ACeGF,ADVJ,AGSCmE,AJ3Bo+B,AKsBh+B,AFCP,AUCG,ADVI,CTCD,GDaAnE,AEDHmE,ECLyD8C,AORzCkC,CPQlB,CHMI,CF5By+B7K,CAAC,CAACD,CAAD,CAAD,CawBj+B0K,ETGE,CAAC3E,AOfC,CXZo+B9F,AOkBp+BwJ,CPlBq+B,CAACzJ,CAAD,CAAD,EOkB79B,AKJM4F,CRaf,AJ3B2+B7F,CAAC,CI2Bj+B,AJ3Bk+BD,AWYl+BsC,CXZi+B,AOkBh+BiH,CPlBm9B,AWYj9B,CXZ08B,AasBh+B,CNJwB,AKJM,ADFN,CCEO,CAAD,CAAlB,CAAlB;AVcWzH,AEAPiD,AJ5B2/B,AKuB//B,AQEE,ADVF,CZfF,EOiBE,CLWWjD,EEAPiD,ECLED,CHKF,AUbGvC,CRaC,CAAC2D,AOfAgE,ICEK,CDFC,GEYEkB,CTGb,ACLc,GDKG,ACLA,EDKjB,QSNE,eRCyBrG,IAAV,CAArB;AHKkBhD,ADTlB,AGUIgD,ACLJ,AQEE,ANNH,ILQmBhD,EDTfC,AGUC+C,ECLEkC,CQEC8D,CZPA,AGUC,CHVAjJ,AGUCyB,EQbE2G,GXGR,CAAWxH,CWHG,EPQC,EJLlB,AGUI,CAAiBuD,ACLA,CJLAjE,IAAI,CAACF,EGUtB,GHViB,CAAWY,KAAX,GAAmBtB,KIKTiF,IAAV,CAArB,EJLoD,CAACrE,IAAI,CAACF,KAAL,CAAWY,KAAZ,CAA/B;ACSjB,ADRJ,AGUG,AJ9B4gC,AKyB/gC,AQHM,GAXD,ADIL,CCaA,CTFO,CFEuBV,EGHxB+G,CJLC,CCQP,MDRclH,EDpB0gC5B,CAAT,CCoBxgC,CDpBmhC,AKyBvgC,GAAG,CJLC,UAAhB,GAA6BgC,aIKFoD,MAAZ,EJLmC,AIKfP,CJLgB9C,IAAD,CAAlD,GAA2DA,GIK5C,CJLtB,CIKwDiF,YAAlC,EAAgDpC,OAAhD,EAAyDqC,KAAzD,CAAtB;AHIA,ADRD,ADrB4hC,AK0B3hCsB,AEJF,AKJC,CXdc,AUMf,CNgBEA,IL1B+hCtI,CAAC,CE6B1hC4D,EF7B2hC9D,CAAC,CAAC,EK0BvhC,CAAC+I,AEJAe,CPtBqhC,EAAM1J,CAAC,CAACH,CAAD,CAAP,EAAWkB,AOsB/iC,CAAyB,GFIG,CAACoB,CHGC,GAAGa,AF7BmgC,EAAqB,AK0B3iC,EL1BshC,AK0B//B0B,CL1Bw/B,UE6B7+B,CAACnD,AGHnC,EAAqCkD,EHGlB,CAAqB,IAArB,AGHnB,CHGZ,AGHA;ADKEE,AJ/ByjC,AK2B3jCgE,AQhBK,ANWoBzG,CMXrB,CRgBJyG,AQhBF,ANW2BzG,EHSvByC,KJ/BgkC7E,CAAC,CAACI,IK2BvjC,CAACiC,CL3BojC,GAAS,CAAT,CK2BlkC,EL3B6kCrC,CAAX,GAAaA,CAAC,CAAC,CAAD,CAArB;AE8B3jC,AEJO,AJ1B6kC,AK6BplC,AEPuB,AILlB,CJKP,EHIE,AGJ+B,GLQ5B2B,AGDCmH,GMZUkC,CTaP,AGDC,GAAG,CMZN,CTaO,ESbU,ITatB,EAAoB,eGDpB;AHCsB,AEGvB,AGVC,AILA,CPOK,OGFCnB,CILCxH,ETYsB,CKPnB,GAAG,AILC,CTYoBwB,IAAL,CAAU/B,AKPpBgI,ILOU,CAAP,AKPE,CAAC,gDAAgD1H,EAAjD,CAAxB;ALO8C,AF9BsiC,AK8BplC6B,AENA,EFMAA,MAAM,AENA8F,CFMChB,GENG,GAAG,IFMb,EENmBc,CFMC,GENG,CAACE,EFME,EENP,EAAnB;AFOE,AENF,SAAO1H,MAAO,YFMDsC,OAAX,EAAoBC,YAApB,EAAkCkE,IAAlC;AHAF,AGCEA,IAAAA,EHDCnH,EGCG,EHDC,CGCE,IHDG,aAAZ,EAA2B,MGCzB;AHD2B,AEIxB,ACFHkH,IAAAA,EDES5C,IObH6E,CTS4B,CKJ1Bf,GHQU,CFJqBjG,AKJ3B,CFMC,AENAkG,CHQQ,ACFP3H,CDEQ6D,CObN,CAAC7E,CJKE,CLIe,CAAaS,AGE/C,AMXM,CAAe,CAAC,ETSY,CAAP,AEIK,GAAC,EAAZ,KAAmB;AFJc,AEKxD,ACFC,AMZyBM,GNQ1B,CMR0BA,EAAF,EPclB+D,GGRG4D,CHQC,GAAGzG,AGRA,CAAC2G,OHQO,CAAC9D,CGRb,GHQT,AGR0B,WAAjB,GAA+B,UAAW;AHSnD,ACFD,AMb+B6D,IAAAA,EPe1B5D,SAAS,GAAG,EAAhB;AFLA,ASVwB,GJGxB,AIHuB,KTUjB1D,ASVoCL,MAAO,CTUpC,GAAGiB,ASVoCyH,IAAK,ITUjC,CAAChH,ESVsC3B,EAAG,STUlD,CAAuBT,ASVoCqI,ITU3D,CAAhB,ASViF,KAAzE,CAA+E;ATWvFvH,AEMA,AGRD,ELECA,MEMM4D,MFNM,CAACzE,GEMG,EFNJ,CEMO,CFNCc,KEMK0D,EFNb,CAAZ,MEMkC,CAAC/E,GAAV,CAAcS,IAAI,IAAIqE,IAAI,CAACG,WAAL,CAAiBxE,IAAjB,CAAtB,CAAzB;AFLA8B,EAAAA,sBAAsB,CAACD,IAAvB,CAA4B,IAA5B,EAAkC9B,QAAlC,EAA4Ca,OAA5C;AACA,AEMA,AGRF,GIfE,KPuBM6D,CFNC7D,A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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["var n = function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p++],a=\"number\"==typeof s?u[s]:s;1===r[p]?e[0]=a:2===r[p]?(e[1]=e[1]||{})[r[++p]]=a:3===r[p]?e[1]=Object.assign(e[1]||{},a):e.push(r[p]?t.apply(null,n(t,a,u,[\"\",null])):a)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],a=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,2,e):4===u&&r&&(s.push(n||e,2,r),r=\"\"),e=\"\"},f=0;f<n.length;f++){f&&(1===u&&a(),a(f));for(var h=0;h<n[f].length;h++)t=n[f][h],1===u?\"<\"===t?(a(),s=[s],u=3):e+=t:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(a(),u=1):u&&(\"=\"===t?(u=4,r=e,e=\"\"):\"/\"===t?(a(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,4),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(a(),u=2):e+=t)}return a(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]};\n","import htm from './htm.min.js'\n\nconst minify_style = s => s.trim().split('\\n').map(s => s.trim()).join('')\nlet count = 0\nexport default htm.bind(function create_element(type, props, ...children) {\n  const node = {type, props, children}\n  node.props = node.props || {}\n  function handle_custom_element(_node) {\n    if(_node.type.constructor.name === 'AsyncFunction'){\n      return create_element('__PROMISE__', {promise: _node, id: ++count}, [])\n    }\n    const render = _node.type(_node.props)\n    const new_node = typeof render === 'function' ? render() : render\n    return create_element(\n      new_node.type,\n      new_node.props,\n      ...new_node.children.concat(_node.children)\n    )\n  }\n  if(node.props.style) node.props.style = minify_style(node.props.style)\n  return typeof type === 'function' ? handle_custom_element(node) : node\n})\n","function handle_props(props, element) {\n  Object.entries(props).forEach(([key, value]) => {\n    if (key.startsWith('on') && key.toLowerCase() === key) {\n      element[key] = value\n    } else {\n      element.setAttribute(key, value)\n    }\n  })\n}\n\nfunction handle_children(children, element) {\n  children.forEach(child => {\n    if (child == undefined) {\n      return\n    } else if (typeof child == 'string' || typeof child == 'number') {\n      element.appendChild(document.createTextNode(child))\n    } else if (Array.isArray(child)) {\n      child.map(node => element.appendChild(\n          create_dom_nodes.call(this, {...node})\n        )\n      )\n    } else {\n      element.appendChild(create_dom_nodes.call(this, {...child}))\n    }\n  })\n}\n\nexport default function create_dom_nodes(node) {\n  let {type, props, children} = node\n  const children_with_handlers = handle_children.bind(this)\n  if(type === 'Link') { return this.LINK(node) }\n  if(type === '__PROMISE__') { return this.PROMISE(node) }\n  const element = document.createElement(type)\n  handle_props(props, element)\n  children_with_handlers.call(this, children, element)\n  return element\n}\n","export const get_current = () => window.location.pathname\nexport const __PUSH_STATE__ = route => window.history.pushState({}, '', route)\n\nconst UNMOUNT = 'on_route_unmount'\nconst MOUNT = 'on_route_mount'\n\nexport const on_unmount = (methods, root_handler, route) => methods[UNMOUNT]\n  && methods[UNMOUNT](\n    route || get_current(),\n    root_handler.root.children[0]\n  )\n\nexport const on_mount = (methods, route_dom) => methods[MOUNT]\n  && methods[MOUNT](get_current(), route_dom)\n\nexport const traverse = (root, callback) => {\n  root = callback(root)\n  if(root.children && root.children.length) {\n    root.children = root.children.map(child => {\n    return traverse(child, callback)\n    })\n  }\n  return root\n}\n","import render from './create_element.js'\nimport create_dom_nodes from './create_dom_nodes.js'\n\nimport {\n  on_unmount,\n  on_mount,\n  __PUSH_STATE__,\n  get_current,\n  traverse\n} from './utils.js'\n\nconst regex_match = (route, routes) => {\n  let matched = undefined\n  Object.keys(routes).filter(key => key !== '*').map(key => {\n    if(routes[route]) {return}\n    const regex = new RegExp(key)\n    const regex_vals = regex.exec(route)\n    if(regex.test(route) && regex_vals.length >= 2) {\n      const [, ...matches] = regex_vals\n      matched = routes[key] ? [routes[key], matches] : undefined\n    }\n  })\n  return matched\n}\n\nexport const init_root = (root) => {\n  return {\n    replace_with(dom_node) {\n      root.innerHTML = ''\n      root.appendChild(dom_node)\n    },\n    root\n  }\n}\n\nexport const init_head = (components={}) => {\n  const head = document.head\n  let prev_head = []\n\n  const clear_prev = () => prev_head.map(node => head.removeChild(node))\n\n  const render_single = vnode => {\n    const node = create_dom_nodes(vnode)\n    head.appendChild(node)\n    return node\n  }\n\n  const render_arr = nodes => nodes.map(render_single)\n\n  const handle_component = (comp, is_to_prev) => comp ? Array.isArray(comp)\n    ? is_to_prev ? prev_head = render_arr(comp) : render_arr(comp)\n    : is_to_prev ? prev_head = [render_single(comp)] : render_single(comp)\n    : undefined\n\n  handle_component(components['*'] && components['*'](), false)\n\n  return {\n    set(route) {\n      clear_prev()\n      const matched = regex_match(route, components)\n      if(matched) {return handle_component(matched[0](matched[1]), true)}\n      if(!components[route]) {return (prev_head = [])}\n      handle_component(components[route](), true)\n    }\n  }\n}\n\nexport const init_routes = (\n  routes,\n  root_handler,\n  head_handler,\n  methods,\n  cache\n) => {\n  const caches = {}\n\n  const NOT_FOUND = routes['*']\n    ? routes['*']\n    : () => render`<h1 style='text-align: center;'>404</h1>`\n\n  const gen_tree = (route, matched) => routes[route]\n    ? routes[route]()\n    : matched ? matched[0](matched[1]) : NOT_FOUND()\n\n  const __FINAL__ = (route, tree, with_handlers) => {\n    const dom = with_handlers(tree)\n    on_mount(methods, dom)\n    head_handler.set(route)\n    root_handler.replace_with(dom)\n  }\n  \n  const handlers = {\n    PROMISE: (node) => {\n      const with_handlers = create_dom_nodes.bind(handlers)\n      const { props } = node\n      const { placeholder, ..._props } = props.promise.props\n      const new_node = props.promise.type(_props)\n      const _placeholder = placeholder()\n      const element = with_handlers(_placeholder)\n      new_node.then(_node => {\n        element.parentNode.replaceChild(with_handlers(_node), element)\n        caches[get_current()] = traverse(caches[get_current()], (root) => {\n          if(root.type == '__PROMISE__' && root.props.id === node.props.id) {\n            return _node\n          }\n          return root\n        })\n      })\n      return element\n    },\n    LINK: (node) => {\n      const with_handlers = create_dom_nodes.bind(handlers)\n      const target = node.children[0]\n      const element = with_handlers(target)\n      const href = node.props.href\n      element.href = href\n      const matched = regex_match(href, routes)\n      element.onclick = e => {\n        e.preventDefault()\n        on_unmount(methods, root_handler)\n        __PUSH_STATE__(href)\n        const route_tree = gen_tree(href, matched)\n        __FINAL__(href, route_tree, with_handlers)\n      }\n      return element\n    }\n  }\n\n  return {\n    render: () => {\n      const with_handlers = create_dom_nodes.bind(handlers)\n      const route = get_current()\n      const DONT_CACHE = cache.includes(route)\n      const matched = regex_match(route, routes)\n      const route_tree = gen_tree(route, matched)\n      if(!caches[route]) { caches[route] = route_tree }\n      __FINAL__(route, DONT_CACHE ? route_tree : caches[route], with_handlers)\n    }\n  }\n}\n","import {\n  init_root,\n  init_head,\n  init_routes,\n} from './handlers.js'\n\nimport { get_current, on_unmount, __PUSH_STATE__ } from  './utils.js'\n\nconst bind_initial = (render_route, root_handler, methods) => {\n  document.querySelectorAll('.LINK').forEach(link => {\n    link.onclick = function(e) {\n      e.preventDefault()\n      const href = this.getAttribute('href')\n      if(get_current() === href) {return}\n      on_unmount(methods, root_handler)\n      __PUSH_STATE__(href)\n      render_route(href)\n    }\n  })\n}\n\nexport default function router(o) {\n  const { root, routes={}, head={}, methods={}, cache=[] } = o\n  const root_handler = init_root(root)\n  const head_handler = init_head(head)\n  const route_handler = init_routes(routes, root_handler, head_handler, methods, cache)\n  bind_initial(route_handler.render, root_handler, methods)\n  route_handler.render()\n\n  let prev = get_current()\n  window.onpopstate = () => {\n    on_unmount(methods, root_handler, prev)\n    prev = get_current()\n    route_handler.render()\n  }\n}\n","import render from './create_element.js'\nimport router from './router.js'\n\n/* TODO:\n * - cache                     [ ]\n * - refactor for abstractions [x]\n***********************************/\nexport default Object.freeze({render, router})\n","import lib from '../../src/index.js'\nconst { render } = lib\n\nexport function HomeHead() {\n    return render`\n      <title>Home</title>\n      <meta name='description' content='our home page'/>\n    `\n}\n\nasync function test_async({ timer }) {\n  const msg = await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve('hello')\n    }, timer)\n  })\n  const say_hi = () => console.log('hi')\n  return render`\n    <div onload=${say_hi}>${msg}</div>\n  `\n}\n\nasync function with_data({ id }) {\n  const data = await fetch('https://jsonplaceholder.typicode.com/todos/' + id)\n  const json = await data.json()\n  return render`\n    <div>\n      <h3>${json.title}</h3>\n      <p>${json.completed ? 'completed' : 'progress'}</p>\n    </div>\n  `\n}\n\nfunction spinner() {\n  return render`\n    <p>...</p>\n  `\n}\n\nfunction todo({ id }) {\n  return render`\n    <${with_data}\n      id=${id}\n      placeholder=${ () => render`<${spinner} />` }/>\n  `\n}\n\nexport function Home({ content }) {\n  let count = 0\n  const change_title = () => {\n    document.getElementById('page-title').textContent = `Home ${++count}`\n  }\n  return () => render`\n    <div id='home'>\n      <h1 id='page-title'>Home ${count}</h1>\n      <button onclick=${change_title}>change title</button>\n      <p>${content}</p>\n      <${todo} id=1 />\n      <${todo} id=2 />\n      <${todo} id=3 />\n      <${test_async}\n        timer=${500}\n        placeholder=${() => render`<${spinner} />`} />\n      <Link href='/about'>\n        <a>read more...</a>\n      </Link>\n      <div style='padding: 1rem;'>\n        <Link href='/posts'>\n          <a>POSTS</a>\n        </Link>\n      </div>\n    </div>\n  `\n}\n","import lib from '../../src/index.js'\nconst { render } = lib\n\nexport function About() {\n  return () => render`\n    <div id='about'>\n      <h1>About</h1>\n    </div>\n  `\n}\n\nexport const AboutHead = () => render`<title>About</title>`\n","import lib from '../../src/index.js'\nconst { render } = lib\n\nexport function Contact() {\n  return () => render`\n    <div id='contact'>\n      <h1>Contact</h1>\n    </div>\n  `\n}\n\n\n","import lib from '../../src/index.js'\nconst { render } = lib\n\nexport function NotFound() {\n  return render`\n    <h1 style='text-align: center; color: red;'>404</h1>\n  `\n}\n\nexport const defaultHead = () => render`\n  <meta name='author' content='5alidz' />\n  <meta name='author' content='5alidz' />\n`\n","import lib from '../../src/index.js'\nconst { render } = lib\n\nexport const posts_data = [\n  {id: 0, title: 'Amet totam tempore repudiandae distinctio'},\n  {id: 1, title: 'Sit eveniet exercitationem vitae minima.'},\n  {id: 2, title: 'Dolor sit dignissimos omnis ducimus'},\n  {id: 3, title: 'Ipsum debitis eveniet veritatis iste!'}\n]\n\nconst post = ({title, id }) => render`\n  <li>\n    <Link href=${`/posts/${id}`}>\n      <a>${title}</a>\n    </Link>\n  </li>\n`\nexport function Posts() {\n  return render`\n    <div>\n      <h1>Posts</h1>\n      <ul>\n        ${posts_data.map(({ id, title }) => render`<${post} id=${id} title=${title} />`)}\n      </ul>\n    </div>\n  `\n}\n","import lib from '../../src/index.js'\nimport { posts_data } from './posts.js'\nconst { render } = lib\n\nexport function Post({ matches }) {\n  const { title, id } = posts_data[matches[0]]\n  return render`\n    <div>\n      <h1>${id} -- ${title}</h1>\n    </div>\n  `\n}\n\nexport function PostHead(matches) {\n  const { title } = posts_data[matches[0]]\n  return render`\n    <title>${title}</title>\n  `\n}\n","import lib from '../src/index.js'\n\nimport { Home, HomeHead } from './pages/index.js'\nimport { About, AboutHead } from './pages/about.js'\nimport { Contact } from './pages/contact.js'\nimport { NotFound, defaultHead } from './pages/404.js'\nimport { Posts } from './pages/posts.js'\nimport { Post, PostHead } from './pages/post.js'\n\nconst { router, render } = lib\n\nrouter({\n  root: document.getElementById('app'),\n  routes: {\n    '/':           () => render`<${Home} content='Hello World'/>`,\n    '/about':      () => render`<${About} />`,\n    '/contact':    () => render`<${Contact} />`,\n    '/posts':      () => render`<${Posts} />`,\n    '/blogs/(.+)': (matches) => render`<div>just mess up${JSON.stringify(matches)}</div>`,\n    '/posts/(.+)': (matches) => render`<${Post} matches=${matches}/>`,\n    '*':           () => render`<${NotFound} />`,\n  },\n  head: {\n    '/': HomeHead,\n    '/about': AboutHead,\n    '/posts/(.+)': PostHead,\n    '*': defaultHead\n  },\n  //cache: ['/']\n})\n\n\n"]}